{% comment %}
  Section: customize-your-own-coop.liquid
  This section displays the coop customizer. It can be added to any page via the theme editor.
{% endcomment %}

<style>
.model-group {
  display: flex;
  flex-wrap: wrap;
  width: 100%;
  justify-content: flex-start;
  gap: 15px;
}
  
  /* Overall Container */
.coop-builder {
  max-width: 1100px;
  margin: 20px auto;
  padding: 20px;
  background: #fff;
  border-radius: 10px;
  box-shadow: 0px 0px 10px rgba(0,0,0,0.1);
  font-family: Arial, sans-serif;
  position: relative;
}
.coop-builder h2 {
  margin-bottom: 10px;
  text-align: center;
}
.coop-step {
  margin-bottom: 30px;
  border-bottom: 1px solid #ccc;
  padding-bottom: 15px;
}
.coop-step p {
  font-weight: bold;
  margin-bottom: 10px;
}
/* Grid/Box Layout for Options */
.coop-options {
  display: flex;
  flex-wrap: wrap;
  gap: 15px;
  justify-content: start;
  margin-bottom: 15px;
}
.coop-option {
  width: 110px;
  border: 2px solid #ccc;
  border-radius: 8px;
  text-align: center;
  cursor: pointer;
  transition: transform 0.2s;
  background-color: #f9f9f9;
  padding: 8px;
  font-size: 13px;
}
.coop-option img {
  max-width: 100%;
  height: auto;
  border-bottom: 1px solid #ccc;
  margin-bottom: 5px;
}
.coop-option span {
  display: block;
  margin-top: 5px;
  font-weight: bold;
}
.coop-option:hover {
  transform: scale(1.03);
  border-color: #555;
}
.coop-option.selected {
  border-color: #28a745;
}
/* Toggle Switch styling (slider) */
.switch {
  position: relative;
  display: inline-block;
  width: 50px;
  height: 28px;
  vertical-align: middle;
}
.switch input {
  opacity: 0;
  width: 0; 
  height: 0;
}
.slider {
  position: absolute;
  cursor: pointer;
  top: 0; left: 0; right: 0; bottom: 0;
  background-color: #ccc;
  transition: .4s;
  border-radius: 28px;
}
.slider:before {
  position: absolute;
  content: "";
  height: 22px;
  width: 22px;
  left: 3px;
  bottom: 3px;
  background-color: white;
  transition: .4s;
  border-radius: 50%;
}
input:checked + .slider {
  background-color: #28a745;
}
input:checked + .slider:before {
  transform: translateX(22px);
}
/* Submit Button, Reset Buttons */
.submit-btn {
  display: block;
  background-color: #28a745;
  color: #fff;
  padding: 12px;
  width: 100%;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  font-size: 16px;
  margin-top: 10px;
}
.submit-btn:hover {
  background-color: #218838;
}
.reset-btn {
  position: absolute;
  background-color: #dc3545;
  color: #fff;
  padding: 6px 12px;
  border: none;
  border-radius: 4px;
  cursor: pointer;
}
.reset-top {
  top: 10px;
  right: 10px;
}
.reset-bottom {
  bottom: 10px;
  left: 10px;
}
hr {
  margin: 20px 0;
}
.quantity-input {
  width: 60px;
}
</style>

<div class="coop-builder">
  <!-- Reset Button (Top Right) -->
  <button class="reset-btn reset-top" onclick="resetAll()">Reset</button>

  <h2>{{ section.settings.section_heading }}</h2>
  <p style="text-align:center; margin-bottom:20px;">
    All steps are visible below. Toggle on/off the options you want.
  </p>

  <!-- Step 1: Coop Style -->
  <div class="coop-step" id="step-1">
    <p>1) Choose Your Coop Style</p>
    <div class="coop-options">
      <div class="coop-option" data-value="Dutch" onclick="selectCoopStyle(this)">
  {% if section.settings.dutch_image %}
    <img src="{{ section.settings.dutch_image | img_url: '150x150' }}" alt="Dutch">
  {% else %}
    <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
      <span>No image</span>
    </div>
  {% endif %}
  <span>Dutch</span>
</div>
      <div class="coop-option" data-value="Lean-To" onclick="selectCoopStyle(this)">
        {% if section.settings.lean_to_image %}
  <img src="{{ section.settings.lean_to_image | img_url: '150x150' }}" alt="Lean-To">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
        <span>Lean-To</span>
      </div>
      <div class="coop-option" data-value="Tractor" onclick="selectCoopStyle(this)">
        {% if section.settings.tractor_image %}
  <img src="{{ section.settings.tractor_image | img_url: '150x150' }}" alt="Tractor">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
        <span>Tractor</span>
      </div>
      <div class="coop-option" data-value="Quaker" onclick="selectCoopStyle(this)">
        {% if section.settings.quaker_image %}
  <img src="{{ section.settings.quaker_image | img_url: '150x150' }}" alt="Quaker">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
        <span>Quaker</span>
      </div>
      <div class="coop-option" data-value="Combination" onclick="selectCoopStyle(this)">
        {% if section.settings.combination_image %}
  <img src="{{ section.settings.combination_image | img_url: '150x150' }}" alt="Combination">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
        <span>Combination</span>
      </div>
      <div class="coop-option" data-value="A-Frame" onclick="selectCoopStyle(this)">
        {% if section.settings.a_frame_image %}
  <img src="{{ section.settings.a_frame_image | img_url: '150x150' }}" alt="A-Frame">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
        <span>A-Frame</span>
      </div>
    </div>
  </div>

<!-- Step 2: Coop Model (all options, will be shown/hidden via JS) -->
<div class="coop-step" id="step-2">
  <p>2) Choose Your Coop Model</p>
  <div class="coop-options">
    <!-- Quaker models - initially hidden -->
    <div class="model-group" id="Quaker-models" style="display:none;">
      <div class="coop-option" data-value="Q34 Quaker Chicken Coop - 3' x 4'" data-dimension="3x4" onclick="selectModel(this)">
        {% if section.settings.q34_image %}
          <img src="{{ section.settings.q34_image | img_url: '150x150' }}" alt="Q34 Quaker Chicken Coop">
        {% else %}
          <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
            <span>No image</span>
          </div>
        {% endif %}
        <span>Q34 Quaker (3' x 4')</span>
      </div>
      
      <div class="coop-option" data-value="Q44 Quaker Chicken Coop - 4' x 4'" data-dimension="4x4" onclick="selectModel(this)">
        {% if section.settings.q44_image %}
          <img src="{{ section.settings.q44_image | img_url: '150x150' }}" alt="Q44 Quaker Chicken Coop">
        {% else %}
          <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
            <span>No image</span>
          </div>
        {% endif %}
        <span>Q44 Quaker (4' x 4')</span>
      </div>
      
      <div class="coop-option" data-value="Q46 Quaker Chicken Coop - 4' x 6'" data-dimension="4x6" onclick="selectModel(this)">
        {% if section.settings.q46_image %}
          <img src="{{ section.settings.q46_image | img_url: '150x150' }}" alt="Q46 Quaker Chicken Coop">
        {% else %}
          <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
            <span>No image</span>
          </div>
        {% endif %}
        <span>Q46 Quaker (4' x 6')</span>
      </div>
      
      <div class="coop-option" data-value="Q46H Quaker Chicken Coop - 4' x 6'" data-dimension="4x6" onclick="selectModel(this)">
        {% if section.settings.q46h_image %}
          <img src="{{ section.settings.q46h_image | img_url: '150x150' }}" alt="Q46H Quaker Chicken Coop">
        {% else %}
          <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
            <span>No image</span>
          </div>
        {% endif %}
        <span>Q46H Quaker (4' x 6')</span>
      </div>
      
      <div class="coop-option" data-value="Q48 Quaker Chicken Coop - 4' x 8'" data-dimension="4x8" onclick="selectModel(this)">
        {% if section.settings.q48_image %}
          <img src="{{ section.settings.q48_image | img_url: '150x150' }}" alt="Q48 Quaker Chicken Coop">
        {% else %}
          <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
            <span>No image</span>
          </div>
        {% endif %}
        <span>Q48 Quaker (4' x 8')</span>
      </div>
      
      <div class="coop-option" data-value="Q56 Quaker Chicken Coop - 5' x 6'" data-dimension="5x6" onclick="selectModel(this)">
        {% if section.settings.q56_image %}
          <img src="{{ section.settings.q56_image | img_url: '150x150' }}" alt="Q56 Quaker Chicken Coop">
        {% else %}
          <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
            <span>No image</span>
          </div>
        {% endif %}
        <span>Q56 Quaker (5' x 6')</span>
      </div>
      
      <div class="coop-option" data-value="Q58 Quaker Chicken Coop - 5' x 8'" data-dimension="5x8" onclick="selectModel(this)">
        {% if section.settings.q58_image %}
          <img src="{{ section.settings.q58_image | img_url: '150x150' }}" alt="Q58 Quaker Chicken Coop">
        {% else %}
          <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
            <span>No image</span>
          </div>
        {% endif %}
        <span>Q58 Quaker (5' x 8')</span>
      </div>
      
      <div class="coop-option" data-value="Q712 Quaker Chicken Coop - 7' x 12'" data-dimension="7x12" onclick="selectModel(this)">
        {% if section.settings.q712_image %}
          <img src="{{ section.settings.q712_image | img_url: '150x150' }}" alt="Q712 Quaker Chicken Coop">
        {% else %}
          <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
            <span>No image</span>
          </div>
        {% endif %}
        <span>Q712 Quaker (7' x 12')</span>
      </div>
      
      <div class="coop-option" data-value="Q716 Quaker Chicken Coop - 7' x 16'" data-dimension="7x16" onclick="selectModel(this)">
        {% if section.settings.q716_image %}
          <img src="{{ section.settings.q716_image | img_url: '150x150' }}" alt="Q716 Quaker Chicken Coop">
        {% else %}
          <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
            <span>No image</span>
          </div>
        {% endif %}
        <span>Q716 Quaker (7' x 16')</span>
      </div>
    </div>
    
    <!-- Dutch models - initially hidden -->
    <div class="model-group" id="Dutch-models" style="display:none;">
      <div class="coop-option" data-value="D66 Dutch Chicken Coop - 6' x 6'" data-dimension="6x6" onclick="selectModel(this)">
        {% if section.settings.d66_image %}
          <img src="{{ section.settings.d66_image | img_url: '150x150' }}" alt="D66 Dutch Chicken Coop">
        {% else %}
          <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
            <span>No image</span>
          </div>
        {% endif %}
        <span>D66 Dutch (6' x 6')</span>
      </div>
      
      <div class="coop-option" data-value="D48 Dutch Chicken Coop - 4' x 8'" data-dimension="4x8" onclick="selectModel(this)">
        {% if section.settings.d48_image %}
          <img src="{{ section.settings.d48_image | img_url: '150x150' }}" alt="D48 Dutch Chicken Coop">
        {% else %}
          <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
            <span>No image</span>
          </div>
        {% endif %}
        <span>D48 Dutch (4' x 8')</span>
      </div>
      
      <div class="coop-option" data-value="D46 Dutch Chicken Coop - 4' x 6'" data-dimension="4x6" onclick="selectModel(this)">
        {% if section.settings.d46_image %}
          <img src="{{ section.settings.d46_image | img_url: '150x150' }}" alt="D46 Dutch Chicken Coop">
        {% else %}
          <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
            <span>No image</span>
          </div>
        {% endif %}
        <span>D46 Dutch (4' x 6')</span>
      </div>
      
      <div class="coop-option" data-value="D44 Dutch Chicken Coop - 4' x 4'" data-dimension="4x4" onclick="selectModel(this)">
        {% if section.settings.d44_image %}
          <img src="{{ section.settings.d44_image | img_url: '150x150' }}" alt="D44 Dutch Chicken Coop">
        {% else %}
          <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
            <span>No image</span>
          </div>
        {% endif %}
        <span>D44 Dutch (4' x 4')</span>
      </div>
    </div>
    
    <!-- Lean-To models - initially hidden -->
    <div class="model-group" id="Lean-To-models" style="display:none;">
      <div class="coop-option" data-value="L45 Lean-To Chicken Coop - 4' x 5'" data-dimension="4x5" onclick="selectModel(this)">
        {% if section.settings.l45_image %}
          <img src="{{ section.settings.l45_image | img_url: '150x150' }}" alt="L45 Lean-To Chicken Coop">
        {% else %}
          <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
            <span>No image</span>
          </div>
        {% endif %}
        <span>L45 Lean-To (4' x 5')</span>
      </div>
      
      <div class="coop-option" data-value="L35 Lean-To Chicken Coop - 3' x 5'" data-dimension="3x5" onclick="selectModel(this)">
        {% if section.settings.l35_image %}
          <img src="{{ section.settings.l35_image | img_url: '150x150' }}" alt="L35 Lean-To Chicken Coop">
        {% else %}
          <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
            <span>No image</span>
          </div>
        {% endif %}
        <span>L35 Lean-To (3' x 5')</span>
      </div>
    </div>
    
    <!-- Tractor models - initially hidden -->
    <div class="model-group" id="Tractor-models" style="display:none;">
      <div class="coop-option" data-value="Q44T Tractor Chicken Coop - 4' x 4'" data-dimension="4x4" onclick="selectModel(this)">
        {% if section.settings.q44t_image %}
          <img src="{{ section.settings.q44t_image | img_url: '150x150' }}" alt="Q44T Tractor Chicken Coop">
        {% else %}
          <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
            <span>No image</span>
          </div>
        {% endif %}
        <span>Q44T Tractor (4' x 4')</span>
      </div>
      
      <div class="coop-option" data-value="Q34T Tractor Chicken Coop - 3' x 4'" data-dimension="3x4" onclick="selectModel(this)">
        {% if section.settings.q34t_image %}
          <img src="{{ section.settings.q34t_image | img_url: '150x150' }}" alt="Q34T Tractor Chicken Coop">
        {% else %}
          <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
            <span>No image</span>
          </div>
        {% endif %}
        <span>Q34T Tractor (3' x 4')</span>
      </div>
    </div>
    
    <!-- A-Frame models - initially hidden -->
    <div class="model-group" id="A-Frame-models" style="display:none;">
      <div class="coop-option" data-value="A46 A-Frame Chicken Coop - 4' x 6'" data-dimension="4x6" onclick="selectModel(this)">
        {% if section.settings.a46_image %}
          <img src="{{ section.settings.a46_image | img_url: '150x150' }}" alt="A46 A-Frame Chicken Coop">
        {% else %}
          <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
            <span>No image</span>
          </div>
        {% endif %}
        <span>A46 A-Frame (4' x 6')</span>
      </div>
    </div>
    
    <!-- Combination models - initially hidden -->
    <div class="model-group" id="Combination-models" style="display:none;">
      <div class="coop-option" data-value="Q712C Combination Chicken Coop - 7' x 12'" data-dimension="7x12" onclick="selectModel(this)">
        {% if section.settings.q712c_image %}
          <img src="{{ section.settings.q712c_image | img_url: '150x150' }}" alt="Q712C Combination Chicken Coop">
        {% else %}
          <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
            <span>No image</span>
          </div>
        {% endif %}
        <span>Q712C Combination (7' x 12')</span>
      </div>
      
      <div class="coop-option" data-value="Q716C Combination Chicken Coop - 7' x 16'" data-dimension="7x16" onclick="selectModel(this)">
        {% if section.settings.q716c_image %}
          <img src="{{ section.settings.q716c_image | img_url: '150x150' }}" alt="Q716C Combination Chicken Coop">
        {% else %}
          <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
            <span>No image</span>
          </div>
        {% endif %}
        <span>Q716C Combination (7' x 16')</span>
      </div>
      
      <div class="coop-option" data-value="Q720C Combination Chicken Coop - 7' x 20'" data-dimension="7x20" onclick="selectModel(this)">
        {% if section.settings.q720c_image %}
          <img src="{{ section.settings.q720c_image | img_url: '150x150' }}" alt="Q720C Combination Chicken Coop">
        {% else %}
          <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
            <span>No image</span>
          </div>
        {% endif %}
        <span>Q720C Combination (7' x 20')</span>
      </div>
      
      <div class="coop-option" data-value="Q724C Combination Chicken Coop - 7' x 24'" data-dimension="7x24" onclick="selectModel(this)">
        {% if section.settings.q724c_image %}
          <img src="{{ section.settings.q724c_image | img_url: '150x150' }}" alt="Q724C Combination Chicken Coop">
        {% else %}
          <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
            <span>No image</span>
          </div>
        {% endif %}
        <span>Q724C Combination (7' x 24')</span>
      </div>
      
      <div class="coop-option" data-value="Q728C Combination Chicken Coop - 7' x 28'" data-dimension="7x28" onclick="selectModel(this)">
        {% if section.settings.q728c_image %}
          <img src="{{ section.settings.q728c_image | img_url: '150x150' }}" alt="Q728C Combination Chicken Coop">
        {% else %}
          <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
            <span>No image</span>
          </div>
        {% endif %}
        <span>Q728C Combination (7' x 28')</span>
      </div>
      
      <div class="coop-option" data-value="Q732C Combination Chicken Coop - 7' x 32'" data-dimension="7x32" onclick="selectModel(this)">
        {% if section.settings.q732c_image %}
          <img src="{{ section.settings.q732c_image | img_url: '150x150' }}" alt="Q732C Combination Chicken Coop">
        {% else %}
          <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
            <span>No image</span>
          </div>
        {% endif %}
        <span>Q732C Combination (7' x 32')</span>
      </div>
      
      <div class="coop-option" data-value="Q612C Combination Chicken Coop - 6' x 12'" data-dimension="6x12" onclick="selectModel(this)">
        {% if section.settings.q612c_image %}
          <img src="{{ section.settings.q612c_image | img_url: '150x150' }}" alt="Q612C Combination Chicken Coop">
        {% else %}
          <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
            <span>No image</span>
          </div>
        {% endif %}
        <span>Q612C Combination (6' x 12')</span>
      </div>
      
      <div class="coop-option" data-value="Q610C Combination Chicken Coop - 6' x 10'" data-dimension="6x10" onclick="selectModel(this)">
        {% if section.settings.q610c_image %}
          <img src="{{ section.settings.q610c_image | img_url: '150x150' }}" alt="Q610C Combination Chicken Coop">
        {% else %}
          <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
            <span>No image</span>
          </div>
        {% endif %}
        <span>Q610C Combination (6' x 10')</span>
      </div>
      
      <div class="coop-option" data-value="Q68C Combination Chicken Coop - 6' x 8'" data-dimension="6x8" onclick="selectModel(this)">
        {% if section.settings.q68c_image %}
          <img src="{{ section.settings.q68c_image | img_url: '150x150' }}" alt="Q68C Combination Chicken Coop">
        {% else %}
          <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
            <span>No image</span>
          </div>
        {% endif %}
        <span>Q68C Combination (6' x 8')</span>
      </div>
      
      <div class="coop-option" data-value="Q48C Combination Chicken Coop - 4' x 8'" data-dimension="4x8" onclick="selectModel(this)">
        {% if section.settings.q48c_image %}
          <img src="{{ section.settings.q48c_image | img_url: '150x150' }}" alt="Q48C Combination Chicken Coop">
        {% else %}
          <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
            <span>No image</span>
          </div>
        {% endif %}
        <span>Q48C Combination (4' x 8')</span>
      </div>
      
      <div class="coop-option" data-value="A57C Combination Chicken Coop - 5' x 7'" data-dimension="5x7" onclick="selectModel(this)">
        {% if section.settings.a57c_image %}
          <img src="{{ section.settings.a57c_image | img_url: '150x150' }}" alt="A57C Combination Chicken Coop">
        {% else %}
          <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
            <span>No image</span>
          </div>
        {% endif %}
        <span>A57C Combination (5' x 7')</span>
      </div>
      
      <div class="coop-option" data-value="A46C Combination Chicken Coop - 4' x 6'" data-dimension="4x6" onclick="selectModel(this)">
        {% if section.settings.a46c_image %}
          <img src="{{ section.settings.a46c_image | img_url: '150x150' }}" alt="A46C Combination Chicken Coop">
        {% else %}
          <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
            <span>No image</span>
          </div>
        {% endif %}
        <span>A46C Combination (4' x 6')</span>
      </div>
    </div>
  </div>
</div>
  <!-- Step 3: Siding Type (Removed Duratemp) -->
  <div class="coop-step" id="step-3">
    <p>3) Choose Siding Type</p>
    <div class="coop-options">
      <div class="coop-option" data-value="LP Siding" onclick="selectSidingType(this)">
       {% if section.settings.lp_siding_image %}
  <img src="{{ section.settings.lp_siding_image | img_url: '150x150' }}" alt="LP Siding">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
        <span>LP Siding</span>
      </div>
      <div class="coop-option" data-value="Board & Batten" onclick="selectSidingType(this)">
       {% if section.settings.board_batten_image %}
  <img src="{{ section.settings.board_batten_image | img_url: '150x150' }}" alt="Board & Batten">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
        <span>Board &amp; Batten</span>
      </div>
    </div>
  </div>

  <!-- Step 4: Siding Color -->
  <div class="coop-step" id="step-4">
    <p>4) Choose Your Siding Color</p>
    <div id="bb-siding-colors" style="display:none;">
      <p><em>Board &amp; Batten Colors (5):</em></p>
      <div class="coop-options">
        <div class="coop-option" data-value="Brown Cedar" onclick="selectSidingColor(this)">
          {% if section.settings.brown_cedar_image %}
  <img src="{{ section.settings.brown_cedar_image | img_url: '150x150' }}" alt="Brown Cedar">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
          <span>Brown Cedar</span>
        </div>
        <div class="coop-option" data-value="Cedar" onclick="selectSidingColor(this)">
          {% if section.settings.cedar_image %}
  <img src="{{ section.settings.cedar_image | img_url: '150x150' }}" alt="Cedar">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
          <span>Cedar</span>
        </div>
        <div class="coop-option" data-value="Clear" onclick="selectSidingColor(this)">
         {% if section.settings.clear_image %}
  <img src="{{ section.settings.clear_image | img_url: '150x150' }}" alt="Clear">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
          <span>Clear</span>
        </div>
        <div class="coop-option" data-value="Natural" onclick="selectSidingColor(this)">
          {% if section.settings.natural_image %}
  <img src="{{ section.settings.natural_image | img_url: '150x150' }}" alt="Natural">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
          <span>Natural</span>
        </div>
        <div class="coop-option" data-value="Rustic Cedar" onclick="selectSidingColor(this)">
          {% if section.settings.rustic_cedar_image %}
  <img src="{{ section.settings.rustic_cedar_image | img_url: '150x150' }}" alt="Rustic Cedar">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
          <span>Rustic Cedar</span>
        </div>
      </div>
    </div>

    <div id="generic-siding-colors" style="display:none;">
      <p><em>LP Siding Colors (15):</em></p>
      <div class="coop-options">
        <div class="coop-option" data-value="White" onclick="selectSidingColor(this)">
         {% if section.settings.white_siding_image %}
  <img src="{{ section.settings.white_siding_image | img_url: '150x150' }}" alt="White">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
          <span>White</span>
        </div>
        <div class="coop-option" data-value="Navajo" onclick="selectSidingColor(this)">
          {% if section.settings.navajo_siding_image %}
  <img src="{{ section.settings.navajo_siding_image | img_url: '150x150' }}" alt="Navajo">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
          <span>Navajo</span>
        </div>
        <div class="coop-option" data-value="Cream" onclick="selectSidingColor(this)">
          {% if section.settings.cream_siding_image %}
  <img src="{{ section.settings.cream_siding_image | img_url: '150x150' }}" alt="Cream">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
          <span>Cream</span>
        </div>
        <div class="coop-option" data-value="Beige" onclick="selectSidingColor(this)">
          {% if section.settings.beige_siding_image %}
  <img src="{{ section.settings.beige_siding_image | img_url: '150x150' }}" alt="Beige">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
          <span>Beige</span>
        </div>
        <div class="coop-option" data-value="Buckskin" onclick="selectSidingColor(this)">
          {% if section.settings.buckskin_siding_image %}
  <img src="{{ section.settings.buckskin_siding_image | img_url: '150x150' }}" alt="Buckskin">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
          <span>Buckskin</span>
        </div>
        <div class="coop-option" data-value="Chestnut" onclick="selectSidingColor(this)">
          {% if section.settings.chestnut_siding_image %}
  <img src="{{ section.settings.chestnut_siding_image | img_url: '150x150' }}" alt="Chestnut">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
          <span>Chestnut</span>
        </div>
        <div class="coop-option" data-value="Clay" onclick="selectSidingColor(this)">
          {% if section.settings.clay_siding_image %}
  <img src="{{ section.settings.clay_siding_image | img_url: '150x150' }}" alt="Clay">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
          <span>Clay</span>
        </div>
        <div class="coop-option" data-value="Light Gray" onclick="selectSidingColor(this)">
          {% if section.settings.light_gray_siding_image %}
  <img src="{{ section.settings.light_gray_siding_image | img_url: '150x150' }}" alt="Light Gray">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
          <span>Light Gray</span>
        </div>
        <div class="coop-option" data-value="Dark Blue" onclick="selectSidingColor(this)">
         {% if section.settings.dark_blue_siding_image %}
  <img src="{{ section.settings.dark_blue_siding_image | img_url: '150x150' }}" alt="Dark Blue">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
          <span>Dark Blue</span>
        </div>
        <div class="coop-option" data-value="Light Blue" onclick="selectSidingColor(this)">
         {% if section.settings.light_blue_siding_image %}
  <img src="{{ section.settings.light_blue_siding_image | img_url: '150x150' }}" alt="Light Blue">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
          <span>Light Blue</span>
        </div>
        <div class="coop-option" data-value="Dark Gray" onclick="selectSidingColor(this)">
         {% if section.settings.dark_gray_siding_image %}
  <img src="{{ section.settings.dark_gray_siding_image | img_url: '150x150' }}" alt="Dark Gray">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
          <span>Dark Gray</span>
        </div>
        <div class="coop-option" data-value="Avocado" onclick="selectSidingColor(this)">
          {% if section.settings.avocado_siding_image %}
  <img src="{{ section.settings.avocado_siding_image | img_url: '150x150' }}" alt="Avocado">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
          <span>Avocado</span>
        </div>
        <div class="coop-option" data-value="Hunter Green" onclick="selectSidingColor(this)">
          {% if section.settings.hunter_green_siding_image %}
  <img src="{{ section.settings.hunter_green_siding_image | img_url: '150x150' }}" alt="Hunter Green">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
          <span>Hunter Green</span>
        </div>
        <div class="coop-option" data-value="Red" onclick="selectSidingColor(this)">
          {% if section.settings.red_siding_image %}
  <img src="{{ section.settings.red_siding_image | img_url: '150x150' }}" alt="Red">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
          <span>Red</span>
        </div>
        <div class="coop-option" data-value="Black" onclick="selectSidingColor(this)">
         {% if section.settings.black_siding_image %}
  <img src="{{ section.settings.black_siding_image | img_url: '150x150' }}" alt="Black">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
          <span>Black</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Step 5: Trim Color (only for Board & Batten or Duratemp) -->
  <div class="coop-step" id="step-5">
    <p>5) Add a Trim Color? (additional cost)</p>
    <!-- Switch -->
    <label class="inline-label">Trim Color:</label>
    <label class="switch">
      <input type="checkbox" id="trimColorSwitch" onchange="toggleTrimColorSwitch()">
      <span class="slider"></span>
    </label>
    <div style="margin-top:10px;" id="trim-color-area">
      <div class="coop-options" id="trim-color-options" style="display:none;">
        <!-- 15 Trim Colors (same as LP Siding set, plus White) -->
        <div class="coop-option" data-value="Avocado" onclick="selectTrimColor(this)">
        {% if section.settings.trim_avocado_image %}
  <img src="{{ section.settings.trim_avocado_image | img_url: '150x150' }}" alt="Trim: Avocado">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
          <span>Avocado</span>
        </div>
        <div class="coop-option" data-value="Beige" onclick="selectTrimColor(this)">
         {% if section.settings.trim_beige_image %}
  <img src="{{ section.settings.trim_beige_image | img_url: '150x150' }}" alt="Trim: Beige">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
          <span>Beige</span>
        </div>
        <div class="coop-option" data-value="Black" onclick="selectTrimColor(this)">
         {% if section.settings.trim_black_image %}
  <img src="{{ section.settings.trim_black_image | img_url: '150x150' }}" alt="Trim: Black">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
          <span>Black</span>
        </div>
        <div class="coop-option" data-value="Buckskin" onclick="selectTrimColor(this)">
         {% if section.settings.trim_buckskin_image %}
  <img src="{{ section.settings.trim_buckskin_image | img_url: '150x150' }}" alt="Trim: Buckskin">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
          <span>Buckskin</span>
        </div>
        <div class="coop-option" data-value="Chestnut" onclick="selectTrimColor(this)">
        {% if section.settings.trim_chestnut_image %}
  <img src="{{ section.settings.trim_chestnut_image | img_url: '150x150' }}" alt="Trim: Chestnut">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
          <span>Chestnut</span>
        </div>
        <div class="coop-option" data-value="Clay" onclick="selectTrimColor(this)">
        {% if section.settings.trim_chestnut_image %}
  <img src="{{ section.settings.trim_chestnut_image | img_url: '150x150' }}" alt="Trim: Chestnut">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
          <span>Clay</span>
        </div>
        <div class="coop-option" data-value="Cream" onclick="selectTrimColor(this)">
          {% if section.settings.trim_cream_image %}
  <img src="{{ section.settings.trim_cream_image | img_url: '150x150' }}" alt="Trim: Cream">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
          <span>Cream</span>
        </div>
        <div class="coop-option" data-value="Dark Blue" onclick="selectTrimColor(this)">
         {% if section.settings.trim_dark_blue_image %}
  <img src="{{ section.settings.trim_dark_blue_image | img_url: '150x150' }}" alt="Trim: Dark Blue">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
          <span>Dark Blue</span>
        </div>
        <div class="coop-option" data-value="Dark Gray" onclick="selectTrimColor(this)">
         {% if section.settings.trim_dark_gray_image %}
  <img src="{{ section.settings.trim_dark_gray_image | img_url: '150x150' }}" alt="Trim: Dark Gray">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
          <span>Dark Gray</span>
        </div>
        <div class="coop-option" data-value="Hunter Green" onclick="selectTrimColor(this)">
         {% if section.settings.trim_hunter_green_image %}
  <img src="{{ section.settings.trim_hunter_green_image | img_url: '150x150' }}" alt="Trim: Hunter Green">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
          <span>Hunter Green</span>
        </div>
        <div class="coop-option" data-value="Light Blue" onclick="selectTrimColor(this)">
          {% if section.settings.trim_light_blue_image %}
  <img src="{{ section.settings.trim_light_blue_image | img_url: '150x150' }}" alt="Trim: Light Blue">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
          <span>Light Blue</span>
        </div>
        <div class="coop-option" data-value="Light Gray" onclick="selectTrimColor(this)">
         {% if section.settings.trim_light_gray_image %}
  <img src="{{ section.settings.trim_light_gray_image | img_url: '150x150' }}" alt="Trim: Light Gray">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
          <span>Light Gray</span>
        </div>
        <div class="coop-option" data-value="Navajo" onclick="selectTrimColor(this)">
         {% if section.settings.trim_navajo_image %}
  <img src="{{ section.settings.trim_navajo_image | img_url: '150x150' }}" alt="Trim: Navajo">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
          <span>Navajo</span>
        </div>
        <div class="coop-option" data-value="Red" onclick="selectTrimColor(this)">
        {% if section.settings.trim_red_image %}
  <img src="{{ section.settings.trim_red_image | img_url: '150x150' }}" alt="Trim: Red">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
          <span>Red</span>
        </div>
        <div class="coop-option" data-value="White" onclick="selectTrimColor(this)">
         {% if section.settings.trim_white_image %}
  <img src="{{ section.settings.trim_white_image | img_url: '150x150' }}" alt="Trim: White">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
          <span>White</span>
        </div>
      </div>
    </div>
  </div>


 <!-- Step 6: Door Color -->
  <div class="coop-step" id="step-6">
    <p>6) Add a Door Color? (additional cost)</p>
    <!-- Switch -->
    <label class="inline-label">Door Color:</label>
    <label class="switch">
      <input type="checkbox" id="doorColorSwitch" onchange="toggleDoorColorSwitch()">
      <span class="slider"></span>
    </label>
    <div style="margin-top:10px;" id="door-color-area">
      <div class="coop-options" id="door-color-options" style="display:none;">
        <!-- same 15 colors + White -->
        <div class="coop-option" data-value="Avocado" onclick="selectDoorColor(this)">
         {% if section.settings.door_avocado_image %}
  <img src="{{ section.settings.door_avocado_image | img_url: '150x150' }}" alt="Door: Avocado">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
          <span>Avocado</span>
        </div>
        <div class="coop-option" data-value="Beige" onclick="selectDoorColor(this)">
         {% if section.settings.door_beige_image %}
  <img src="{{ section.settings.door_beige_image | img_url: '150x150' }}" alt="Door: Beige">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
          <span>Beige</span>
        </div>
        <div class="coop-option" data-value="Black" onclick="selectDoorColor(this)">
         {% if section.settings.door_black_image %}
  <img src="{{ section.settings.door_black_image | img_url: '150x150' }}" alt="Door: Black">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
          <span>Black</span>
        </div>
        <div class="coop-option" data-value="Buckskin" onclick="selectDoorColor(this)">
        {% if section.settings.door_buckskin_image %}
  <img src="{{ section.settings.door_buckskin_image | img_url: '150x150' }}" alt="Door: Buckskin">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
          <span>Buckskin</span>
        </div>
        <div class="coop-option" data-value="Chestnut" onclick="selectDoorColor(this)">
        {% if section.settings.door_chestnut_image %}
  <img src="{{ section.settings.door_chestnut_image | img_url: '150x150' }}" alt="Door: Chestnut">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
          <span>Chestnut</span>
        </div>
        <div class="coop-option" data-value="Clay" onclick="selectDoorColor(this)">
          {% if section.settings.door_chestnut_image %}
  <img src="{{ section.settings.door_chestnut_image | img_url: '150x150' }}" alt="Door: Chestnut">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
          <span>Clay</span>
        </div>
        <div class="coop-option" data-value="Cream" onclick="selectDoorColor(this)">
         {% if section.settings.door_cream_image %}
  <img src="{{ section.settings.door_cream_image | img_url: '150x150' }}" alt="Door: Cream">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
          <span>Cream</span>
        </div>
        <div class="coop-option" data-value="Dark Blue" onclick="selectDoorColor(this)">
         {% if section.settings.door_dark_blue_image %}
  <img src="{{ section.settings.door_dark_blue_image | img_url: '150x150' }}" alt="Door: Dark Blue">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
          <span>Dark Blue</span>
        </div>
        <div class="coop-option" data-value="Dark Gray" onclick="selectDoorColor(this)">
        {% if section.settings.door_dark_gray_image %}
  <img src="{{ section.settings.door_dark_gray_image | img_url: '150x150' }}" alt="Door: Dark Gray">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
          <span>Dark Gray</span>
        </div>
        <div class="coop-option" data-value="Hunter Green" onclick="selectDoorColor(this)">
         {% if section.settings.door_hunter_green_image %}
  <img src="{{ section.settings.door_hunter_green_image | img_url: '150x150' }}" alt="Door: Hunter Green">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
          <span>Hunter Green</span>
        </div>
        <div class="coop-option" data-value="Light Blue" onclick="selectDoorColor(this)">
         {% if section.settings.door_light_blue_image %}
  <img src="{{ section.settings.door_light_blue_image | img_url: '150x150' }}" alt="Door: Light Blue">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
          <span>Light Blue</span>
        </div>
        <div class="coop-option" data-value="Light Gray" onclick="selectDoorColor(this)">
         {% if section.settings.door_light_gray_image %}
  <img src="{{ section.settings.door_light_gray_image | img_url: '150x150' }}" alt="Door: Light Gray">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
          <span>Light Gray</span>
        </div>
        <div class="coop-option" data-value="Navajo" onclick="selectDoorColor(this)">
       {% if section.settings.door_navajo_image %}
  <img src="{{ section.settings.door_navajo_image | img_url: '150x150' }}" alt="Door: Navajo">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
          <span>Navajo</span>
        </div>
        <div class="coop-option" data-value="Red" onclick="selectDoorColor(this)">
        {% if section.settings.door_red_image %}
  <img src="{{ section.settings.door_red_image | img_url: '150x150' }}" alt="Door: Red">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
          <span>Red</span>
        </div>
        <div class="coop-option" data-value="White" onclick="selectDoorColor(this)">
          {% if section.settings.door_white_image %}
  <img src="{{ section.settings.door_white_image | img_url: '150x150' }}" alt="Door: White">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
          <span>White</span>
        </div>
      </div>
    </div>
  </div>


  <!-- Step 7: Roof Type -->
  <div class="coop-step" id="step-7">
    <p>7) Choose Your Roof</p>
    <div class="coop-options">
      <div class="coop-option" data-value="Asphalt" onclick="selectRoofType(this)">
        <img src="https://thehenhousecollection.b-cdn.net/wp-content/uploads/features-and-options/chicken-coop-accessories-Weather-Gray-Shingle-150x150.jpg" alt="Asphalt Shingle">
        <span>Asphalt Shingle (standard)</span>
      </div>
      <div class="coop-option" data-value="Metal" onclick="selectRoofType(this)">
        <img src="https://thehenhousecollection.b-cdn.net/wp-content/uploads/features-and-options/chicken-coop-accessories-Green-Metal-150x150.jpg" alt="Metal Roof">
        <span>Metal Roof (additional)</span>
      </div>
    </div>
  </div>

  <!-- Step 8: Roof Color -->
  <div class="coop-step" id="step-8">
    <p>8) Choose Your Roof Color</p>
    <div id="metal-roof-colors" style="display:none;">
      <p><em>Metal Roof Colors:</em></p>
      <div class="coop-options">
        <div class="coop-option" data-value="Black" onclick="selectRoofColor(this)">
          {% if section.settings.roof_black_image %}
  <img src="{{ section.settings.roof_black_image | img_url: '150x150' }}" alt="Roof: Black (Metal)">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
          <span>Black</span>
        </div>
        <div class="coop-option" data-value="Bronze" onclick="selectRoofColor(this)">
         {% if section.settings.roof_bronze_image %}
  <img src="{{ section.settings.roof_bronze_image | img_url: '150x150' }}" alt="Roof: Bronze (Metal)">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
          <span>Bronze</span>
        </div>
        <div class="coop-option" data-value="Green" onclick="selectRoofColor(this)">
          {% if section.settings.roof_green_image %}
  <img src="{{ section.settings.roof_green_image | img_url: '150x150' }}" alt="Roof: Green (Metal)">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
          <span>Green</span>
        </div>
        <div class="coop-option" data-value="Red" onclick="selectRoofColor(this)">
         {% if section.settings.roof_red_image %}
  <img src="{{ section.settings.roof_red_image | img_url: '150x150' }}" alt="Roof: Red (Metal)">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
          <span>Red</span>
        </div>
        <div class="coop-option" data-value="White" onclick="selectRoofColor(this)">
        {% if section.settings.roof_white_image %}
  <img src="{{ section.settings.roof_white_image | img_url: '150x150' }}" alt="Roof: White (Metal)">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
          <span>White</span>
        </div>
      </div>
    </div>
    <div id="asphalt-roof-colors" style="display:none;">
      <p><em>Asphalt Shingle Colors:</em></p>
      <div class="coop-options">
        <div class="coop-option" data-value="Cedar" onclick="selectRoofColor(this)">
          {% if section.settings.asphalt_roof_cedar_image %}
  <img src="{{ section.settings.asphalt_roof_cedar_image | img_url: '150x150' }}" alt="Roof: Cedar (Asphalt)">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
          <span>Cedar</span>
        </div>
        <div class="coop-option" data-value="Charcoal" onclick="selectRoofColor(this)">
          {% if section.settings.asphalt_roof_charcoal_image %}
  <img src="{{ section.settings.asphalt_roof_charcoal_image | img_url: '150x150' }}" alt="Roof: Charcoal (Asphalt)">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
          <span>Charcoal</span>
        </div>
        <div class="coop-option" data-value="Forest Green" onclick="selectRoofColor(this)">
          {% if section.settings.asphalt_roof_forest_green_image %}
  <img src="{{ section.settings.asphalt_roof_forest_green_image | img_url: '150x150' }}" alt="Roof: Forest Green (Asphalt)">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
          <span>Forest Green</span>
        </div>
     <div class="coop-option" data-value="Nickel Gray" onclick="selectRoofColor(this)">
  {% if section.settings.asphalt_roof_nickel_gray_image %}
    <img src="{{ section.settings.asphalt_roof_nickel_gray_image | img_url: '150x150' }}" alt="Roof: Nickel Gray (Asphalt)">
  {% else %}
    <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
      <span>No image</span>
    </div>
  {% endif %}
  <span>Nickel Gray</span>
</div>
        <div class="coop-option" data-value="Walnut Brown" onclick="selectRoofColor(this)">
          {% if section.settings.asphalt_roof_walnut_brown_image %}
  <img src="{{ section.settings.asphalt_roof_walnut_brown_image | img_url: '150x150' }}" alt="Roof: Walnut Brown (Asphalt)">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
          <span>Walnut Brown</span>
        </div>
        <div class="coop-option" data-value="Weathered Gray" onclick="selectRoofColor(this)">
          {% if section.settings.asphalt_roof_weathered_gray_image %}
  <img src="{{ section.settings.asphalt_roof_weathered_gray_image | img_url: '150x150' }}" alt="Roof: Weathered Gray (Asphalt)">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
          <span>Weathered Gray</span>
        </div>
        <div class="coop-option" data-value="Williamsburg Slate" onclick="selectRoofColor(this)">
          {% if section.settings.asphalt_roof_williamsburg_slate_image %}
  <img src="{{ section.settings.asphalt_roof_williamsburg_slate_image | img_url: '150x150' }}" alt="Roof: Williamsburg Slate (Asphalt)">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
          <span>Williamsburg Slate</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Step 9: Additional Options -->
  <div class="coop-step" id="step-9">
    <p>9) Additional Options</p>
    <hr>
    <!-- Cupola -->
    <label class="inline-label">Add a Cupola?</label>
    <label class="switch">
      <input type="checkbox" id="cupolaSwitch" onchange="toggleCupolaSwitch()">
      <span class="slider"></span>
    </label>
    <div class="coop-options" id="cupola-types" style="display:none; margin-top:10px;">
      <div class="coop-option" data-value="Shed Cupola (white w/ black roof)" onclick="selectCupolaType(this)">
        {% if section.settings.cupola_shed_image %}
  <img src="{{ section.settings.cupola_shed_image | img_url: '150x150' }}" alt="Cupola: Shed Cupola">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
        <span>Shed Cupola</span>
      </div>
      <div class="coop-option" data-value="Board and Batten Wood Cupola w/ Copper Top" onclick="selectCupolaType(this)">
        {% if section.settings.cupola_bbwood_image %}
  <img src="{{ section.settings.cupola_bbwood_image | img_url: '150x150' }}" alt="Cupola: Board & Batten Wood Cupola">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
        <span>Wood Cupola w/ Copper Top</span>
      </div>
    </div>
    <hr>
    <!-- Weathervane -->
<label class="inline-label">Would you like to add a weathervane?</label>
<label class="switch">
  <input type="checkbox" id="weathervaneSwitch" onchange="toggleWeathervaneSwitch()">
  <span class="slider"></span>
</label>

<div class="coop-options" id="weathervane-types" style="display:none; margin-top:10px;">
  <div class="coop-option" data-value="Black Horse Weathervane" onclick="selectWeathervaneType(this)">
   {% if section.settings.weathervane_black_horse_image %}
  <img src="{{ section.settings.weathervane_black_horse_image | img_url: '150x150' }}" alt="Weathervane: Black Horse">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
    <span>Black Horse Weathervane</span>
  </div>
  <div class="coop-option" data-value="Small Black Rooster Weathervane" onclick="selectWeathervaneType(this)">
   {% if section.settings.weathervane_small_black_rooster_image %}
  <img src="{{ section.settings.weathervane_small_black_rooster_image | img_url: '150x150' }}" alt="Weathervane: Small Black Rooster">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
    <span>Small Black Rooster Weathervane</span>
  </div>
  <div class="coop-option" data-value="Black Eagle Weathervane" onclick="selectWeathervaneType(this)">
   {% if section.settings.weathervane_black_eagle_image %}
  <img src="{{ section.settings.weathervane_black_eagle_image | img_url: '150x150' }}" alt="Weathervane: Black Eagle">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
    <span>Black Eagle Weathervane</span>
  </div>
  <div class="coop-option" data-value="Copper Standing Rooster Weathervane" onclick="selectWeathervaneType(this)">
    {% if section.settings.weathervane_copper_standing_rooster_image %}
  <img src="{{ section.settings.weathervane_copper_standing_rooster_image | img_url: '150x150' }}" alt="Weathervane: Copper Standing Rooster">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
    <span>Copper Standing Rooster Weathervane</span>
  </div>
  <div class="coop-option" data-value="Copper Eagle Weathervane" onclick="selectWeathervaneType(this)">
   {% if section.settings.weathervane_copper_eagle_image %}
  <img src="{{ section.settings.weathervane_copper_eagle_image | img_url: '150x150' }}" alt="Weathervane: Copper Eagle">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
    <span>Copper Eagle Weathervane</span>
  </div>
  <div class="coop-option" data-value="Copper Horse Weathervane" onclick="selectWeathervaneType(this)">
    {% if section.settings.weathervane_copper_horse_image %}
  <img src="{{ section.settings.weathervane_copper_horse_image | img_url: '150x150' }}" alt="Weathervane: Copper Horse">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
    <span>Copper Horse Weathervane</span>
  </div>
</div>

<hr>

     
    <!-- Drinker & Feeder -->
    <label class="inline-label">Add a Drinker &amp; Feeder?</label>
    <label class="switch">
      <input type="checkbox" id="drinkerFeederSwitch" onchange="toggleDrinkerFeederSwitch()">
      <span class="slider"></span>
    </label>
    <div id="drinker-feeder-section" style="display:none; margin-top:10px;">
      <p><strong>Choose a Drinker*</strong></p>
      <div class="coop-options">
        <div class="coop-option" data-value="1 Gallon Drinker" onclick="selectDrinker(this)">
          {% if section.settings.drinker_1_gallon_image %}
  <img src="{{ section.settings.drinker_1_gallon_image | img_url: '150x150' }}" alt="Drinker: 1 Gallon">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
          <span>1 Gallon</span>
        </div>
        <div class="coop-option" data-value="3 Gallon Drinker" onclick="selectDrinker(this)">
          {% if section.settings.drinker_3_gallon_image %}
  <img src="{{ section.settings.drinker_3_gallon_image | img_url: '150x150' }}" alt="Drinker: 3 Gallon">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
          <span>3 Gallon</span>
        </div>
      </div>
      <label>Quantity (Drinkers):</label>
      <input type="number" id="drinker-qty" class="quantity-input" min="1" value="1">
      
      <p style="margin-top:15px;"><strong>Choose a Feeder*</strong></p>
      <div class="coop-options">
        <div class="coop-option" data-value="6 lb. Feeder" onclick="selectFeeder(this)">
         {% if section.settings.feeder_6lb_image %}
  <img src="{{ section.settings.feeder_6lb_image | img_url: '150x150' }}" alt="Feeder: 6 lb.">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
          <span>6 lb.</span>
        </div>
        <div class="coop-option" data-value="17 lb. Feeder" onclick="selectFeeder(this)">
         {% if section.settings.feeder_17lb_image %}
  <img src="{{ section.settings.feeder_17lb_image | img_url: '150x150' }}" alt="Feeder: 17 lb.">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
          <span>17 lb.</span>
        </div>
      </div>
      <label>Quantity (Feeders):</label>
      <input type="number" id="feeder-qty" class="quantity-input" min="1" value="1">
    </div>
    <hr>

    <!-- Interior Options -->
    <p><strong>Interior Options</strong></p>
    <div class="coop-options" id="interior-options">
      <div class="coop-option" data-value="Clean Out Lid" onclick="toggleInteriorOption(this)">
        {% if section.settings.interior_clean_out_lid_image %}
  <img src="{{ section.settings.interior_clean_out_lid_image | img_url: '150x150' }}" alt="Clean Out Lid">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
        <span>Clean Out Lid</span>
      </div>
      <div class="coop-option" data-value="Epoxy Floor" onclick="toggleInteriorOption(this)">
        {% if section.settings.interior_epoxy_floor_image %}
  <img src="{{ section.settings.interior_epoxy_floor_image | img_url: '150x150' }}" alt="Epoxy Floor">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
        <span>Epoxy Floor</span>
      </div>
      <div class="coop-option" data-value="Heated Roost" onclick="toggleInteriorOption(this)">
        {% if section.settings.interior_heated_roost_image %}
  <img src="{{ section.settings.interior_heated_roost_image | img_url: '150x150' }}" alt="Heated Roost">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
        <span>Heated Roost</span>
      </div>
      <div class="coop-option" data-value="Insulated Ceiling" onclick="toggleInteriorOption(this)">
       {% if section.settings.interior_insulated_ceiling_image %}
  <img src="{{ section.settings.interior_insulated_ceiling_image | img_url: '150x150' }}" alt="Insulated Ceiling">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
        <span>Insulated Ceiling</span>
      </div>
      <div class="coop-option" data-value="Litter Tray (requires Clean Out Lid)" onclick="toggleInteriorOption(this)">
        {% if section.settings.interior_litter_tray_image %}
  <img src="{{ section.settings.interior_litter_tray_image | img_url: '150x150' }}" alt="Litter Tray">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
        <span>Litter Tray (requires Clean Out Lid)</span>
      </div>
    </div>
    <hr>

    <!-- Automatic Door & Light Options -->
    <p><strong>Automatic Door &amp; Light Options</strong></p>
    <div class="coop-options" id="auto-door-light-options">
      <div class="coop-option" data-value="Elec. Package (switch, receptacle, light)" onclick="toggleAutoDoorLight(this)">
        {% if section.settings.auto_door_elec_package_image %}
  <img src="{{ section.settings.auto_door_elec_package_image | img_url: '150x150' }}" alt="Elec. Package">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
        <span>Elec. Package (switch, receptacle, light)</span>
      </div>
      <div class="coop-option" data-value="SmartCoop Auto Chicken Door" onclick="toggleAutoDoorLight(this)">
        {% if section.settings.auto_door_smartcoop_image %}
  <img src="{{ section.settings.auto_door_smartcoop_image | img_url: '150x150' }}" alt="SmartCoop Auto Chicken Door">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
        <span>SmartCoop Door</span>
      </div>
      <div class="coop-option" data-value="Solar Package for SmartCoop Auto Door" onclick="toggleAutoDoorLight(this)">
        {% if section.settings.auto_door_solar_package_image %}
  <img src="{{ section.settings.auto_door_solar_package_image | img_url: '150x150' }}" alt="Solar Package for SmartCoop Auto Door">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
        <span>Solar Package for SmartCoop Auto Door</span>
      </div>
      <div class="coop-option" data-value="Solar Powered Light (timer/switch)" onclick="toggleAutoDoorLight(this)">
       {% if section.settings.auto_door_solar_light_image %}
  <img src="{{ section.settings.auto_door_solar_light_image | img_url: '150x150' }}" alt="Solar Powered Light">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
        <span>Solar Powered Light (timer/switch)</span>
      </div>
    </div>
    <hr>
    <!-- Exterior Options -->
    <p><strong>Exterior Options</strong></p>
    <!-- Chicken Run (toggle switch) -->
    <label class="inline-label">Add a Chicken Run?</label>
    <label class="switch">
      <input type="checkbox" id="chickenRunSwitch" onchange="toggleChickenRunSwitch()">
      
      <span class="slider"></span>
    </label>
    <div id="chicken-run-section" style="display:none; margin-top:10px;">
      <p><strong>Choose Your Chicken Run Size</strong></p>
     <div class="coop-options" id="chicken-run-sizes">
       <div class="coop-option" data-value="3′×4′×3′ Run" onclick="selectRunSize(this)">
    {% if section.settings.chicken_run_3x4x3_image %}
  <img src="{{ section.settings.chicken_run_3x4x3_image | img_url: '150x150' }}" alt="Chicken Run: 3×4×3">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
    <span>3′×4′×3′ Run</span>
  </div>
       <div class="coop-option" data-value="4′×5′×3′′ Run" onclick="selectRunSize(this)">
  {% if section.settings.chicken_run_4x5x3_image %}
  <img src="{{ section.settings.chicken_run_4x5x3_image | img_url: '150x150' }}" alt="Chicken Run: 4×5×3">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
    <span>4′×5′×3′ Run</span>
  </div>
        <div class="coop-option" data-value="4′×7′×3′ Run" onclick="selectRunSize(this)">
   {% if section.settings.chicken_run_4x7x3_image %}
  <img src="{{ section.settings.chicken_run_4x7x3_image | img_url: '150x150' }}" alt="Chicken Run: 4×7×3">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
    <span>4′×7′×3′ Run</span>
  </div>
        <div class="coop-option" data-value="5′×5′×3′ Run" onclick="selectRunSize(this)">
   {% if section.settings.chicken_run_5x5x3_image %}
  <img src="{{ section.settings.chicken_run_5x5x3_image | img_url: '150x150' }}" alt="Chicken Run: 5×5×3">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
    <span>5′×5′×3′ Run</span>
  </div>
       <div class="coop-option" data-value="5′×7′×3′ Run" onclick="selectRunSize(this)">
    {% if section.settings.chicken_run_5x7x3_image %}
  <img src="{{ section.settings.chicken_run_5x7x3_image | img_url: '150x150' }}" alt="Chicken Run: 5×7×3">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
    <span>5′×7′×3′ Run</span>
  </div>
        <div class="coop-option" data-value="6′×8′×6′ Run w/ Roof" onclick="selectRunSize(this)">
    {% if section.settings.chicken_run_6x8x6_roof_image %}
  <img src="{{ section.settings.chicken_run_6x8x6_roof_image | img_url: '150x150' }}" alt="Chicken Run: 6×8×6 Run w/ Roof">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
    <span>6′×8′×6′ Run w/ Roof</span>
  </div>
       <div class="coop-option" data-value="6′×10′×6′ Run w/ Roof" onclick="selectRunSize(this)">
   {% if section.settings.chicken_run_6x10x6_roof_image %}
  <img src="{{ section.settings.chicken_run_6x10x6_roof_image | img_url: '150x150' }}" alt="Chicken Run: 6×10×6 Run w/ Roof">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
    <span>6′×10′×6′ Run w/ Roof</span>
  </div>
       <div class="coop-option" data-value="Panels under Coop" onclick="selectRunSize(this)">
   {% if section.settings.chicken_run_panels_image %}
  <img src="{{ section.settings.chicken_run_panels_image | img_url: '150x150' }}" alt="Chicken Run: Panels under Coop">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
    <span>Panels under Coop</span>
  </div>
      </div>
      <p style="margin-top:15px;"><strong>Choose Chicken Run Options (optional)</strong></p>
      <div class="coop-options" id="chicken-run-options">
  <div class="coop-option" data-value="Wheel Lift Lever Kit for Runs" onclick="toggleRunOption(this)">
    {% if section.settings.run_extra_wheel_lift_image %}
  <img src="{{ section.settings.run_extra_wheel_lift_image | img_url: '150x150' }}" alt="Chicken Run Extra: Wheel Lift Lever Kit">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
    <span>Wheel Lift Lever Kit for Runs</span>
  </div>
  <div class="coop-option" data-value="Wire mesh bottoms of runs" onclick="toggleRunOption(this)">
   {% if section.settings.run_extra_wire_mesh_image %}
  <img src="{{ section.settings.run_extra_wire_mesh_image | img_url: '150x150' }}" alt="Chicken Run Extra: Wire Mesh Bottoms">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
    <span>Wire mesh bottoms of runs</span>
  </div>
</div>
    </div>
  </div>


    <!-- Exterior Options (2) -->
    <p><strong>Exterior Options (2)</strong></p>
    <div class="coop-options" id="exterior-options-2">
      <div class="coop-option" data-value="Feed Bin (2′×4′×42″)" onclick="toggleExteriorOption(this)">
        {% if section.settings.exterior_feed_bin_image %}
  <img src="{{ section.settings.exterior_feed_bin_image | img_url: '150x150' }}" alt="Exterior Option: Feed Bin">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
        <span>Feed Bin (2′×4′×42″)</span>
      </div>
      <div class="coop-option" data-value="Upgrade to Vinyl-coated ½″×½″ Wire Mesh" onclick="toggleExteriorOption(this)">
       {% if section.settings.exterior_vinyl_wire_mesh_image %}
  <img src="{{ section.settings.exterior_vinyl_wire_mesh_image | img_url: '150x150' }}" alt="Exterior Option: Vinyl-coated Wire Mesh">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
        <span>Vinyl-coated Wire Mesh</span>
      </div>
      <div class="coop-option" data-value="4 Wheels w/ Steering Handle" onclick="toggleExteriorOption(this)">
        {% if section.settings.exterior_4_wheels_image %}
  <img src="{{ section.settings.exterior_4_wheels_image | img_url: '150x150' }}" alt="Exterior Option: 4 Wheels">
{% else %}
  <div style="width:150px;height:150px;background:#f0f0f0;display:flex;justify-content:center;align-items:center;">
    <span>No image</span>
  </div>
{% endif %}
        <span>4 Wheels w/ Steering Handle</span>
      </div>
    </div>


<!-- REPLACE THE EXISTING FORM SECTION WITH THIS UPDATED CODE -->

<!-- ===============================
     SHOPIFY CONTACT FORM INTEGRATION
     =============================== -->
{%- assign formId = 'CoopCustomizerForm' -%}
{% form 'contact', id: formId %}

  {% if form.errors %}
    <div class="form-error">
      <h2>{{ 'contact.form.error_heading' | t }}</h2>
      <ul>
        {% for field in form.errors %}
          <li>
            {% if field == 'form' %}
              {{ form.errors.messages[field] }}
            {% else %}
              <a href="#{{ formId }}-{{ field }}">
                {{ form.errors.translated_fields[field] | capitalize }} {{ form.errors.messages[field] }}
              </a>
            {% endif %}
          </li>
        {% endfor %}
      </ul>
    </div>
  {% endif %}

  <!-- Hidden field for storing the coop configuration -->
  <input type="hidden" id="coop_config" name="contact[Coop Configuration]" value="">

  <!-- Customer Info Fields -->
  <div class="customer-info-grid">
    <div>
      <label for="{{ formId }}-name">Full Name<span aria-hidden="true">*</span></label>
      <input 
        type="text" 
        id="{{ formId }}-name" 
        name="contact[Name]" 
        value="{% if form.name %}{{ form.name }}{% elsif customer %}{{ customer.name }}{% endif %}"
        required 
        aria-required="true">
    </div>

    <div>
      <label for="{{ formId }}-email">Email<span aria-hidden="true">*</span></label>
      <input 
        type="email" 
        id="{{ formId }}-email" 
        name="contact[email]" 
        value="{% if form.email %}{{ form.email }}{% elsif customer %}{{ customer.email }}{% endif %}"
        required 
        aria-required="true">
    </div>

    <div>
      <label for="{{ formId }}-phone">Phone Number<span aria-hidden="true">*</span></label>
      <input 
        type="tel" 
        id="{{ formId }}-phone" 
        name="contact[Phone]" 
        value="{% if form.phone %}{{ form.phone }}{% endif %}"
        required 
        aria-required="true">
    </div>

    <div>
      <label for="{{ formId }}-state">State<span aria-hidden="true">*</span></label>
      <input 
        type="text" 
        id="{{ formId }}-state" 
        name="contact[State]" 
        value="{% if form.state %}{{ form.state }}{% endif %}"
        required 
        aria-required="true">
    </div>
  </div>

  <!-- This is where the coop configuration will be stored (hidden from users) -->
<div style="position: absolute; left: -9999px; height: 0; width: 0; overflow: hidden;">
  <label for="{{ formId }}-body">Coop Configuration<span aria-hidden="true">*</span></label>
  <textarea 
    id="CoopCustomizerForm-body"
    name="contact[body]" 
    rows="10" 
    style="width: 100%;"
    required
    aria-required="true">{% if form.body %}{{ form.body }}{% endif %}</textarea>
</div>

  <!-- Submit Button -->
  <button type="submit" class="submit-btn" onclick="return prepareCoopSubmission()">
    Send Quote Request
  </button>
{% endform %}
<script>
/* ---------------------
   1) GLOBAL VARIABLES
----------------------*/
let selectedStyle    = '';
let selectedModel    = '';
let selectedDimension= '';
let sidingType       = '';
let sidingColor      = '';
let trimColor        = '';
let doorColor        = '';
let roofType         = '';
let roofColor        = '';

/* Additional Options */
let cupolaOn         = false;
let weathervaneOn = false;
let weathervaneType = "";
let cupolaType       = '';
let drinkerFeederOn  = false;
let drinkerChoice    = '';
let feederChoice     = '';
let drinkerQty       = 1;
let feederQty        = 1;
let interiorOptions  = [];
let autoDoorLight    = [];
let chickenRunOn     = false;
let chickenRunSize   = '';
let chickenRunExtras = [];
let exteriorOptions  = [];

// Define image variables with fallback to placeholder
var q34Image = "{% if section.settings.q34_image %}{{ section.settings.q34_image | img_url: '150x150' }}{% else %}/assets/no-image.jpg{% endif %}";
var q44Image = "{% if section.settings.q44_image %}{{ section.settings.q44_image | img_url: '150x150' }}{% else %}/assets/no-image.jpg{% endif %}";
var q46Image = "{% if section.settings.q46_image %}{{ section.settings.q46_image | img_url: '150x150' }}{% else %}/assets/no-image.jpg{% endif %}";
var q46hImage = "{% if section.settings.q46h_image %}{{ section.settings.q46h_image | img_url: '150x150' }}{% else %}/assets/no-image.jpg{% endif %}";
var q48Image = "{% if section.settings.q48_image %}{{ section.settings.q48_image | img_url: '150x150' }}{% else %}/assets/no-image.jpg{% endif %}";
var q56Image = "{% if section.settings.q56_image %}{{ section.settings.q56_image | img_url: '150x150' }}{% else %}/assets/no-image.jpg{% endif %}";
var q58Image = "{% if section.settings.q58_image %}{{ section.settings.q58_image | img_url: '150x150' }}{% else %}/assets/no-image.jpg{% endif %}";
var q712Image = "{% if section.settings.q712_image %}{{ section.settings.q712_image | img_url: '150x150' }}{% else %}/assets/no-image.jpg{% endif %}";
var q716Image = "{% if section.settings.q716_image %}{{ section.settings.q716_image | img_url: '150x150' }}{% else %}/assets/no-image.jpg{% endif %}";

// Dutch
var d66Image = "{% if section.settings.d66_image %}{{ section.settings.d66_image | img_url: '150x150' }}{% else %}/assets/no-image.jpg{% endif %}";
var d48Image = "{% if section.settings.d48_image %}{{ section.settings.d48_image | img_url: '150x150' }}{% else %}/assets/no-image.jpg{% endif %}";
var d46Image = "{% if section.settings.d46_image %}{{ section.settings.d46_image | img_url: '150x150' }}{% else %}/assets/no-image.jpg{% endif %}";
var d44Image = "{% if section.settings.d44_image %}{{ section.settings.d44_image | img_url: '150x150' }}{% else %}/assets/no-image.jpg{% endif %}";

// Lean-To
var l45Image = "{% if section.settings.l45_image %}{{ section.settings.l45_image | img_url: '150x150' }}{% else %}/assets/no-image.jpg{% endif %}";
var l35Image = "{% if section.settings.l35_image %}{{ section.settings.l35_image | img_url: '150x150' }}{% else %}/assets/no-image.jpg{% endif %}";

// Tractor
var q44tImage = "{% if section.settings.q44t_image %}{{ section.settings.q44t_image | img_url: '150x150' }}{% else %}/assets/no-image.jpg{% endif %}";
var q34tImage = "{% if section.settings.q34t_image %}{{ section.settings.q34t_image | img_url: '150x150' }}{% else %}/assets/no-image.jpg{% endif %}";

// A-Frame
var a46Image = "{% if section.settings.a46_image %}{{ section.settings.a46_image | img_url: '150x150' }}{% else %}/assets/no-image.jpg{% endif %}";

// Combination
var q712cImage = "{% if section.settings.q712c_image %}{{ section.settings.q712c_image | img_url: '150x150' }}{% else %}/assets/no-image.jpg{% endif %}";
var q716cImage = "{% if section.settings.q716c_image %}{{ section.settings.q716c_image | img_url: '150x150' }}{% else %}/assets/no-image.jpg{% endif %}";
var q720cImage = "{% if section.settings.q720c_image %}{{ section.settings.q720c_image | img_url: '150x150' }}{% else %}/assets/no-image.jpg{% endif %}";
var q724cImage = "{% if section.settings.q724c_image %}{{ section.settings.q724c_image | img_url: '150x150' }}{% else %}/assets/no-image.jpg{% endif %}";
var q728cImage = "{% if section.settings.q728c_image %}{{ section.settings.q728c_image | img_url: '150x150' }}{% else %}/assets/no-image.jpg{% endif %}";
var q732cImage = "{% if section.settings.q732c_image %}{{ section.settings.q732c_image | img_url: '150x150' }}{% else %}/assets/no-image.jpg{% endif %}";
var q612cImage = "{% if section.settings.q612c_image %}{{ section.settings.q612c_image | img_url: '150x150' }}{% else %}/assets/no-image.jpg{% endif %}";
var q610cImage = "{% if section.settings.q610c_image %}{{ section.settings.q610c_image | img_url: '150x150' }}{% else %}/assets/no-image.jpg{% endif %}";
var q68cImage = "{% if section.settings.q68c_image %}{{ section.settings.q68c_image | img_url: '150x150' }}{% else %}/assets/no-image.jpg{% endif %}";
var q48cImage = "{% if section.settings.q48c_image %}{{ section.settings.q48c_image | img_url: '150x150' }}{% else %}/assets/no-image.jpg{% endif %}";
var a57cImage = "{% if section.settings.a57c_image %}{{ section.settings.a57c_image | img_url: '150x150' }}{% else %}/assets/no-image.jpg{% endif %}";
var a46cImage = "{% if section.settings.a46c_image %}{{ section.settings.a46c_image | img_url: '150x150' }}{% else %}/assets/no-image.jpg{% endif %}";

// Function to create dynamic model option elements
function createModelOption(model) {
  // Create the HTML element for each model option
  const div = document.createElement('div');
  div.classList.add('coop-option');
  div.setAttribute('data-value', model.name);
  div.setAttribute('data-dimension', model.dimension);
  
  // Check if image URL is empty and create either an image or placeholder div
  if (model.img && model.img !== '/assets/no-image.jpg' && model.img !== '') {
    // If we have an image, use it
    const img = document.createElement('img');
    img.src = model.img;
    img.alt = model.name;
    div.appendChild(img);
  } else {
    // Otherwise create a placeholder div
    const placeholder = document.createElement('div');
    placeholder.style.width = '150px';
    placeholder.style.height = '150px';
    placeholder.style.background = '#f0f0f0';
    placeholder.style.display = 'flex';
    placeholder.style.justifyContent = 'center';
    placeholder.style.alignItems = 'center';
    
    const placeholderText = document.createElement('span');
    placeholderText.textContent = 'No image';
    placeholder.appendChild(placeholderText);
    
    div.appendChild(placeholder);
  }
  
  // Add the name span
  const span = document.createElement('span');
  span.textContent = model.name;
  div.appendChild(span);
  
  // Set the click event
  div.onclick = () => selectModel(div);
  
  return div;
}



/* Step 1: Coop Style - updated to show/hide proper model groups */
function selectCoopStyle(el) {
  if(el.classList.contains('selected')){
    el.classList.remove('selected');
    selectedStyle = '';
    // Hide all model groups
    document.querySelectorAll('.model-group').forEach(group => {
      group.style.display = 'none';
    });
    selectedModel = '';
    selectedDimension = '';
    return;
  }
  
  document.querySelectorAll('#step-1 .coop-option').forEach(box => box.classList.remove('selected'));
  el.classList.add('selected');
  selectedStyle = el.getAttribute('data-value');
  
  // Hide all model groups first
  document.querySelectorAll('.model-group').forEach(group => {
    group.style.display = 'none';
  });
  
  // Show only the selected style's models
  const modelGroup = document.getElementById(selectedStyle + '-models');
  if (modelGroup) {
    modelGroup.style.display = 'flex';
  }
}

function selectModel(el) {
  if(el.classList.contains('selected')){
    el.classList.remove('selected');
    selectedModel = '';
    selectedDimension = '';
    return;
  }
  document.querySelectorAll('.model-group .coop-option').forEach(b => b.classList.remove('selected'));
  el.classList.add('selected');
  selectedModel = el.getAttribute('data-value');
  selectedDimension = el.getAttribute('data-dimension') || '';
}

  
/* Step 3: Siding Type */
function selectSidingType(el) {
  if(el.classList.contains('selected')){
    el.classList.remove('selected');
    sidingType = '';
    document.getElementById('bb-siding-colors').style.display = 'none';
    document.getElementById('generic-siding-colors').style.display = 'none';
    sidingColor = '';
     // Hide Step 5 (Trim Color) when no siding is selected
    document.getElementById('step-5').style.display = 'none';
    return;
  }
  document.querySelectorAll('#step-3 .coop-option').forEach(b => b.classList.remove('selected'));
  el.classList.add('selected');
  sidingType = el.getAttribute('data-value');
  if(sidingType === "Board & Batten"){
    document.getElementById('bb-siding-colors').style.display = 'block';
    document.getElementById('generic-siding-colors').style.display = 'none';
    // Show Step 5 when Board & Batten is chosen
    document.getElementById('step-5').style.display = 'block';
  } else {
    document.getElementById('generic-siding-colors').style.display = 'block';
    document.getElementById('bb-siding-colors').style.display = 'none';
    // Hide Step 5 (Trim Color) for LP Siding
    document.getElementById('step-5').style.display = 'none';
    trimColor = '';
  }
}
function selectSidingColor(el) {
  if(el.classList.contains('selected')){
    el.classList.remove('selected');
    sidingColor = '';
    return;
  }
  if(sidingType === "Board & Batten"){
    document.querySelectorAll('#bb-siding-colors .coop-option').forEach(b => b.classList.remove('selected'));
  } else {
    document.querySelectorAll('#generic-siding-colors .coop-option').forEach(b => b.classList.remove('selected'));
  }
  el.classList.add('selected');
  sidingColor = el.getAttribute('data-value');
}

/* Step 5: Trim Color Switch */
function toggleTrimColorSwitch(){
  const on = document.getElementById('trimColorSwitch').checked;
  if(!on){
    document.getElementById('trim-color-options').style.display = 'none';
    trimColor = '';
    document.querySelectorAll('#trim-color-options .coop-option').forEach(b => b.classList.remove('selected'));
  } else {
    document.getElementById('trim-color-options').style.display = 'flex';
  }
}
function selectTrimColor(el) {
  if(el.classList.contains('selected')){
    el.classList.remove('selected');
    trimColor = '';
    return;
  }
  document.querySelectorAll('#trim-color-options .coop-option').forEach(b => b.classList.remove('selected'));
  el.classList.add('selected');
  trimColor = el.getAttribute('data-value');
}

/* Step 6: Door Color Switch */
function toggleDoorColorSwitch(){
  const on = document.getElementById('doorColorSwitch').checked;
  if(!on){
    document.getElementById('door-color-options').style.display = 'none';
    doorColor = '';
    document.querySelectorAll('#door-color-options .coop-option').forEach(b => b.classList.remove('selected'));
  } else {
    document.getElementById('door-color-options').style.display = 'flex';
  }
}
function selectDoorColor(el) {
  if(el.classList.contains('selected')){
    el.classList.remove('selected');
    doorColor = '';
    return;
  }
  document.querySelectorAll('#door-color-options .coop-option').forEach(b => b.classList.remove('selected'));
  el.classList.add('selected');
  doorColor = el.getAttribute('data-value');
}

/* Step 7: Roof Type */
function selectRoofType(el) {
  if(el.classList.contains('selected')){
    el.classList.remove('selected');
    roofType = '';
    document.getElementById('metal-roof-colors').style.display = 'none';
    document.getElementById('asphalt-roof-colors').style.display = 'none';
    roofColor = '';
    document.querySelectorAll('#step-8 .coop-option').forEach(b => b.classList.remove('selected'));
    return;
  }
  document.querySelectorAll('#step-7 .coop-option').forEach(b => b.classList.remove('selected'));
  el.classList.add('selected');
  roofType = el.getAttribute('data-value');
  if(roofType === "Metal"){
    document.getElementById('metal-roof-colors').style.display = 'block';
    document.getElementById('asphalt-roof-colors').style.display = 'none';
  } else {
    document.getElementById('asphalt-roof-colors').style.display = 'block';
    document.getElementById('metal-roof-colors').style.display = 'none';
  }
}
function selectRoofColor(el) {
  if(el.classList.contains('selected')){
    el.classList.remove('selected');
    roofColor = '';
    return;
  }
  if(roofType === "Metal"){
    document.querySelectorAll('#metal-roof-colors .coop-option').forEach(b => b.classList.remove('selected'));
  } else {
    document.querySelectorAll('#asphalt-roof-colors .coop-option').forEach(b => b.classList.remove('selected'));
  }
  el.classList.add('selected');
  roofColor = el.getAttribute('data-value');
}

/* Step 9: Cupola */
function toggleCupolaSwitch(){
  cupolaOn = document.getElementById('cupolaSwitch').checked;
  if(!cupolaOn){
    cupolaType = '';
    document.getElementById('cupola-types').style.display = 'none';
    document.querySelectorAll('#cupola-types .coop-option').forEach(b => b.classList.remove('selected'));
  } else {
    document.getElementById('cupola-types').style.display = 'flex';
  }
}
function selectCupolaType(el){
  if(el.classList.contains('selected')){
    el.classList.remove('selected');
    cupolaType = '';
    return;
  }
  document.querySelectorAll('#cupola-types .coop-option').forEach(b => b.classList.remove('selected'));
  el.classList.add('selected');
  cupolaType = el.getAttribute('data-value');
}
  /* Weathervane Toggle */
function toggleWeathervaneSwitch() {
  weathervaneOn = document.getElementById('weathervaneSwitch').checked;
  if (!weathervaneOn) {
    weathervaneType = '';
    document.getElementById('weathervane-types').style.display = 'none';
    document.querySelectorAll('#weathervane-types .coop-option').forEach(b => b.classList.remove('selected'));
  } else {
    document.getElementById('weathervane-types').style.display = 'flex';
  }
}
function selectWeathervaneType(el) {
  if (el.classList.contains('selected')) {
    el.classList.remove('selected');
    weathervaneType = '';
    return;
  }
  document.querySelectorAll('#weathervane-types .coop-option').forEach(b => b.classList.remove('selected'));
  el.classList.add('selected');
  weathervaneType = el.getAttribute('data-value');
}
/* Drinker & Feeder */
function toggleDrinkerFeederSwitch(){
  drinkerFeederOn = document.getElementById('drinkerFeederSwitch').checked;
  if(!drinkerFeederOn){
    drinkerChoice = '';
    feederChoice = '';
    document.getElementById('drinker-qty').value = 1;
    document.getElementById('feeder-qty').value = 1;
    document.getElementById('drinker-feeder-section').style.display = 'none';
    document.querySelectorAll('#drinker-feeder-section .coop-option').forEach(b => b.classList.remove('selected'));
  } else {
    document.getElementById('drinker-feeder-section').style.display = 'block';
  }
}
function selectDrinker(el){
  if(el.classList.contains('selected')){
    el.classList.remove('selected');
    drinkerChoice = '';
    return;
  }
  document.querySelectorAll('#drinker-feeder-section [data-value*="Drinker"]').forEach(b => b.classList.remove('selected'));
  el.classList.add('selected');
  drinkerChoice = el.getAttribute('data-value');
}
function selectFeeder(el){
  if(el.classList.contains('selected')){
    el.classList.remove('selected');
    feederChoice = '';
    return;
  }
  document.querySelectorAll('#drinker-feeder-section [data-value*="Feeder"]').forEach(b => b.classList.remove('selected'));
  el.classList.add('selected');
  feederChoice = el.getAttribute('data-value');
}

/* Interior Options */
function toggleInteriorOption(el) {
  const value = el.getAttribute('data-value');
  if(el.classList.contains('selected')){
    el.classList.remove('selected');
    interiorOptions = interiorOptions.filter(o => o !== value);
  } else {
    if(value.includes("Litter Tray")){
      if(!interiorOptions.includes("Clean Out Lid")){
        alert("Litter Tray requires Clean Out Lid. Adding it automatically.");
        const cleanEl = document.querySelector('#interior-options .coop-option[data-value="Clean Out Lid"]');
        if(cleanEl && !cleanEl.classList.contains('selected')){
          cleanEl.classList.add('selected');
          interiorOptions.push("Clean Out Lid");
        }
      }
    }
    el.classList.add('selected');
    interiorOptions.push(value);
  }
}
/* Automatic Door & Light */
function toggleAutoDoorLight(el) {
  const value = el.getAttribute('data-value');
  if(el.classList.contains('selected')){
    el.classList.remove('selected');
    autoDoorLight = autoDoorLight.filter(o => o !== value);
  } else {
    el.classList.add('selected');
    autoDoorLight.push(value);
  }
}
function selectRunSize(el) {
  // If user clicks the same box again, unselect it
  if (el.classList.contains('selected')) {
    el.classList.remove('selected');
    chickenRunSize = '';
    return;
  }

  // We only allow one run size at a time
  // so unselect all other .coop-option in #chicken-run-sizes
  document.querySelectorAll('#chicken-run-sizes .coop-option').forEach(opt => {
    opt.classList.remove('selected');
  });

  // Select this one
  el.classList.add('selected');
  // Store the value in your global variable
  chickenRunSize = el.getAttribute('data-value');
}
  /* Chicken Run */ 
 function toggleChickenRunSwitch() {
  // read whether the checkbox is checked
  chickenRunOn = document.getElementById('chickenRunSwitch').checked;

  if (!chickenRunOn) {
    // Hide the run section, reset run size/extras
    chickenRunSize = '';
    chickenRunExtras = [];
    document.getElementById('chicken-run-section').style.display = 'none';

    // Uncheck any run size radio buttons
    document.querySelectorAll('input[name="runSize"]').forEach(radio => {
      radio.checked = false;
    });
    // Uncheck any run option checkboxes
    document.querySelectorAll('#chicken-run-options input[type="checkbox"]').forEach(cb => {
      cb.checked = false;
    });
  } else {
    // Show the run section
    document.getElementById('chicken-run-section').style.display = 'block';
  }
}
  function handleRunOptionChange(checkbox) {
  const val = checkbox.value;
  if (checkbox.checked) {
    // add to array if not present
    if (!chickenRunExtras.includes(val)) {
      chickenRunExtras.push(val);
    }
  } else {
    // remove from array
    chickenRunExtras = chickenRunExtras.filter(o => o !== val);
  }
}
  /* Chicken Run Extras */
  function toggleRunOption(el) {
  const val = el.getAttribute('data-value');
  if (el.classList.contains('selected')) {
    // Unselect
    el.classList.remove('selected');
    chickenRunExtras = chickenRunExtras.filter(o => o !== val);
  } else {
    // Select
    el.classList.add('selected');
    chickenRunExtras.push(val);
  }
}

/* Exterior Options (2) */
function toggleExteriorOption(el) {
  const value = el.getAttribute('data-value');
  if(el.classList.contains('selected')){
    el.classList.remove('selected');
    exteriorOptions = exteriorOptions.filter(o => o !== value);
  } else {
    el.classList.add('selected');
    exteriorOptions.push(value);
  }
}

// Replace the existing submitCoop function
function prepareCoopSubmission() {
  // Validate customer info
  const nameField = document.getElementById('CoopCustomizerForm-name');
  const emailField = document.getElementById('CoopCustomizerForm-email');
  const phoneField = document.getElementById('CoopCustomizerForm-phone');
  const stateField = document.getElementById('CoopCustomizerForm-state');
  
  if (!nameField.value.trim() || !emailField.value.trim() || 
      !phoneField.value.trim() || !stateField.value.trim()) {
    alert("Please fill out all customer information fields before sending the request.");
    return false;
  }
  
  // Validate coop options
  if (!selectedStyle) {
    alert("Please select a Coop Style (Step 1)");
    return;
  }
  if (!selectedModel) {
    alert("Please select a Coop Model (Step 2)");
    return;
  }
  if (!sidingType) {
    alert("Please select a Siding Type (Step 3)");
    return;
  }
  if (!sidingColor) {
    alert("Please select a Siding Color (Step 4)");
    return;
  }
  if (!roofType) {
    alert("Please select a Roof Type (Step 7)");
    return;
  }
  if (!roofColor) {
    alert("Please select a Roof Color (Step 8)");
    return;
  }

  // Additional validations
  if(drinkerFeederOn){
    drinkerQty = parseInt(document.getElementById('drinker-qty').value) || 1;
    feederQty  = parseInt(document.getElementById('feeder-qty').value) || 1;
  }
  
  // For Chicken Run, if toggled on, capture the selected size
  if (chickenRunOn && !chickenRunSize) {
    // Check if a run size is selected
    const runSizeEl = document.querySelector('#chicken-run-sizes .coop-option.selected');
    if (runSizeEl) {
      chickenRunSize = runSizeEl.getAttribute('data-value');
    } else {
      alert("Please select a Chicken Run Size or turn off the Chicken Run option");
      return;
    }
  }

  const summary = `
CUSTOM COOP QUOTE REQUEST

Coop Style:        ${selectedStyle}
Coop Model:        ${selectedModel}
Dimension:         ${selectedDimension}
Siding Type:       ${sidingType}
Siding Color:      ${sidingColor}
Trim Color:        ${trimColor || "None"}
Door Color:        ${doorColor || "None"}
Roof Type:         ${roofType}
Roof Color:        ${roofColor}

-- Additional Options --
Weathervane:       ${weathervaneOn ? weathervaneType : "None"}
Cupola:            ${cupolaOn ? cupolaType : "None"}
Drinker:           ${drinkerFeederOn ? drinkerChoice + " x" + drinkerQty : "None"}
Feeder:            ${drinkerFeederOn ? feederChoice + " x" + feederQty : "None"}
Interior:          ${interiorOptions.length ? interiorOptions.join(", ") : "None"}
Auto Door/Light:   ${autoDoorLight.length ? autoDoorLight.join(", ") : "None"}
Chicken Run:       ${chickenRunOn ? chickenRunSize : "None"}
Run Options:       ${chickenRunExtras.length ? chickenRunExtras.join(", ") : "None"}
Exterior Options:  ${exteriorOptions.length ? exteriorOptions.join(", ") : "None"}

  `;
  
   // Populate the textarea
  document.getElementById('CoopCustomizerForm-body').value = summary;
  
  // Set up a listener to redirect after successful submission
  // First, store that we're about to submit the form
  localStorage.setItem('formSubmitted', 'true');
  
  // Allow the form to submit
  return true;
}
  
function resetAll(){
  selectedStyle = '';
  selectedModel = '';
  selectedDimension = '';
  sidingType = '';
  sidingColor = '';
  trimColor = '';
  doorColor = '';
  roofType = '';
  roofColor = '';
  cupolaOn = false;
  cupolaType = '';
  drinkerFeederOn = false;
  drinkerChoice = '';
  feederChoice = '';
  drinkerQty = 1;
  feederQty = 1;
  interiorOptions = [];
  autoDoorLight = [];
  chickenRunOn = false;
  chickenRunSize = '';
  chickenRunExtras = [];
  exteriorOptions = [];

  document.querySelectorAll('.coop-option').forEach(o => o.classList.remove('selected'));
  document.getElementById('bb-siding-colors').style.display = 'none';
  document.getElementById('generic-siding-colors').style.display = 'none';
  document.getElementById('trimColorSwitch').checked = false;
  document.getElementById('doorColorSwitch').checked = false;
  document.getElementById('cupolaSwitch').checked = false;
  document.getElementById('drinkerFeederSwitch').checked = false;
  // if you have a 'chickenRunSwitch', uncheck that too:
  // document.getElementById('chickenRunSwitch').checked = false;
  document.getElementById('trim-color-options').style.display = 'none';
  document.getElementById('door-color-options').style.display = 'none';
  document.getElementById('cupola-types').style.display = 'none';
  document.getElementById('drinker-feeder-section').style.display = 'none';
  // document.getElementById('chicken-run-section').style.display = 'none';
  document.getElementById('model-options').innerHTML = '';
  document.querySelectorAll('input[type="checkbox"]').forEach(cb => cb.checked = false);
  // if you have run-size radios:
  // document.querySelectorAll('input[name="runSize"]').forEach(rb => rb.checked = false);
  document.getElementById('drinker-qty').value = 1;
  document.getElementById('feeder-qty').value = 1;
}

</script>

 <script>
document.addEventListener('DOMContentLoaded', function() {
  if (localStorage.getItem('formSubmitted') === 'true') {
    localStorage.removeItem('formSubmitted');
    window.location.href = 'https://cluckandcoop.com/pages/thank-you';
  }
});
</script>

{% schema %}
{
  "name": "Customize Your Own Coop",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "text",
      "id": "section_heading",
      "label": "Section Heading",
      "default": "Customize Your Coop"
    },
    {
      "type": "image_picker",
      "id": "dutch_image",
      "label": "Dutch Coop Image"
    },
    {
      "type": "image_picker",
      "id": "lean_to_image",
      "label": "Lean-To Coop Image"
    },
    {
      "type": "image_picker",
      "id": "tractor_image",
      "label": "Tractor Coop Image"
    },
    {
      "type": "image_picker",
      "id": "quaker_image",
      "label": "Quaker Coop Image"
    },
    {
      "type": "image_picker",
      "id": "combination_image",
      "label": "Combination Coop Image"
    },
    {
      "type": "image_picker",
      "id": "a_frame_image",
      "label": "A-Frame Coop Image"
    },
    {
      "type": "image_picker",
      "id": "lp_siding_image",
      "label": "LP Siding Image"
    },
    {
      "type": "image_picker",
      "id": "board_batten_image",
      "label": "Board & Batten Siding Image"
    },
    {
      "type": "image_picker",
      "id": "brown_cedar_image",
      "label": "Brown Cedar (Board & Batten) Image"
    },
    {
      "type": "image_picker",
      "id": "cedar_image",
      "label": "Cedar (Board & Batten) Image"
    },
    {
      "type": "image_picker",
      "id": "clear_image",
      "label": "Clear (Board & Batten) Image"
    },
    {
      "type": "image_picker",
      "id": "natural_image",
      "label": "Natural (Board & Batten) Image"
    },
    {
      "type": "image_picker",
      "id": "rustic_cedar_image",
      "label": "Rustic Cedar (Board & Batten) Image"
    },
    {
      "type": "image_picker",
      "id": "white_siding_image",
      "label": "White (LP Siding) Image"
    },
    {
      "type": "image_picker",
      "id": "navajo_siding_image",
      "label": "Navajo (LP Siding) Image"
    },
    {
      "type": "image_picker",
      "id": "cream_siding_image",
      "label": "Cream (LP Siding) Image"
    },
    {
      "type": "image_picker",
      "id": "beige_siding_image",
      "label": "Beige (LP Siding) Image"
    },
    {
      "type": "image_picker",
      "id": "buckskin_siding_image",
      "label": "Buckskin (LP Siding) Image"
    },
    {
      "type": "image_picker",
      "id": "chestnut_siding_image",
      "label": "Chestnut (LP Siding) Image"
    },
    {
      "type": "image_picker",
      "id": "clay_siding_image",
      "label": "Clay (LP Siding) Image"
    },
    {
      "type": "image_picker",
      "id": "light_gray_siding_image",
      "label": "Light Gray (LP Siding) Image"
    },
    {
      "type": "image_picker",
      "id": "dark_blue_siding_image",
      "label": "Dark Blue (LP Siding) Image"
    },
    {
      "type": "image_picker",
      "id": "light_blue_siding_image",
      "label": "Light Blue (LP Siding) Image"
    },
    {
      "type": "image_picker",
      "id": "dark_gray_siding_image",
      "label": "Dark Gray (LP Siding) Image"
    },
    {
      "type": "image_picker",
      "id": "avocado_siding_image",
      "label": "Avocado (LP Siding) Image"
    },
    {
      "type": "image_picker",
      "id": "hunter_green_siding_image",
      "label": "Hunter Green (LP Siding) Image"
    },
    {
      "type": "image_picker",
      "id": "red_siding_image",
      "label": "Red (LP Siding) Image"
    },
    {
      "type": "image_picker",
      "id": "black_siding_image",
      "label": "Black (LP Siding) Image"
    },
    {
      "type": "image_picker",
      "id": "trim_avocado_image",
      "label": "Trim: Avocado Image"
    },
    {
      "type": "image_picker",
      "id": "trim_beige_image",
      "label": "Trim: Beige Image"
    },
    {
      "type": "image_picker",
      "id": "trim_black_image",
      "label": "Trim: Black Image"
    },
    {
      "type": "image_picker",
      "id": "trim_buckskin_image",
      "label": "Trim: Buckskin Image"
    },
    {
      "type": "image_picker",
      "id": "trim_chestnut_image",
      "label": "Trim: Chestnut Image"
    },
    {
      "type": "image_picker",
      "id": "trim_clay_image",
      "label": "Trim: Clay Image"
    },
    {
      "type": "image_picker",
      "id": "trim_cream_image",
      "label": "Trim: Cream Image"
    },
    {
      "type": "image_picker",
      "id": "trim_dark_blue_image",
      "label": "Trim: Dark Blue Image"
    },
    {
      "type": "image_picker",
      "id": "trim_dark_gray_image",
      "label": "Trim: Dark Gray Image"
    },
    {
      "type": "image_picker",
      "id": "trim_hunter_green_image",
      "label": "Trim: Hunter Green Image"
    },
    {
      "type": "image_picker",
      "id": "trim_light_blue_image",
      "label": "Trim: Light Blue Image"
    },
    {
      "type": "image_picker",
      "id": "trim_light_gray_image",
      "label": "Trim: Light Gray Image"
    },
    {
      "type": "image_picker",
      "id": "trim_navajo_image",
      "label": "Trim: Navajo Image"
    },
    {
      "type": "image_picker",
      "id": "trim_red_image",
      "label": "Trim: Red Image"
    },
    {
      "type": "image_picker",
      "id": "trim_white_image",
      "label": "Trim: White Image"
    },
    {
      "type": "image_picker",
      "id": "door_avocado_image",
      "label": "Door: Avocado Image"
    },
    {
      "type": "image_picker",
      "id": "door_beige_image",
      "label": "Door: Beige Image"
    },
    {
      "type": "image_picker",
      "id": "door_black_image",
      "label": "Door: Black Image"
    },
    {
      "type": "image_picker",
      "id": "door_buckskin_image",
      "label": "Door: Buckskin Image"
    },
    {
      "type": "image_picker",
      "id": "door_chestnut_image",
      "label": "Door: Chestnut Image"
    },
    {
      "type": "image_picker",
      "id": "door_clay_image",
      "label": "Door: Clay Image"
    },
    {
      "type": "image_picker",
      "id": "door_cream_image",
      "label": "Door: Cream Image"
    },
    {
      "type": "image_picker",
      "id": "door_dark_blue_image",
      "label": "Door: Dark Blue Image"
    },
    {
      "type": "image_picker",
      "id": "door_dark_gray_image",
      "label": "Door: Dark Gray Image"
    },
    {
      "type": "image_picker",
      "id": "door_hunter_green_image",
      "label": "Door: Hunter Green Image"
    },
    {
      "type": "image_picker",
      "id": "door_light_blue_image",
      "label": "Door: Light Blue Image"
    },
    {
      "type": "image_picker",
      "id": "door_light_gray_image",
      "label": "Door: Light Gray Image"
    },
    {
      "type": "image_picker",
      "id": "door_navajo_image",
      "label": "Door: Navajo Image"
    },
    {
      "type": "image_picker",
      "id": "door_red_image",
      "label": "Door: Red Image"
    },
    {
      "type": "image_picker",
      "id": "door_white_image",
      "label": "Door: White Image"
    },
    {
      "type": "image_picker",
      "id": "roof_black_image",
      "label": "Roof: Black (Metal) Image"
    },
    {
      "type": "image_picker",
      "id": "roof_bronze_image",
      "label": "Roof: Bronze (Metal) Image"
    },
    {
      "type": "image_picker",
      "id": "roof_green_image",
      "label": "Roof: Green (Metal) Image"
    },
    {
      "type": "image_picker",
      "id": "roof_red_image",
      "label": "Roof: Red (Metal) Image"
    },
    {
      "type": "image_picker",
      "id": "roof_white_image",
      "label": "Roof: White (Metal) Image"
    },
    {
      "type": "image_picker",
      "id": "asphalt_roof_cedar_image",
      "label": "Roof: Cedar (Asphalt) Image"
    },
    {
      "type": "image_picker",
      "id": "asphalt_roof_charcoal_image",
      "label": "Roof: Charcoal (Asphalt) Image"
    },
    {
      "type": "image_picker",
      "id": "asphalt_roof_forest_green_image",
      "label": "Roof: Forest Green (Asphalt) Image"
    },
    {
      "type": "image_picker",
       "id": "asphalt_roof_nickel_gray_image",
       "label": "Roof: Nickel Gray (Asphalt) Image"
    },
    {
      "type": "image_picker",
      "id": "asphalt_roof_walnut_brown_image",
      "label": "Roof: Walnut Brown (Asphalt) Image"
    },
    {
      "type": "image_picker",
      "id": "asphalt_roof_weathered_gray_image",
      "label": "Roof: Weathered Gray (Asphalt) Image"
    },
    {
      "type": "image_picker",
      "id": "asphalt_roof_williamsburg_slate_image",
      "label": "Roof: Williamsburg Slate (Asphalt) Image"
    },
    {
      "type": "image_picker",
      "id": "cupola_shed_image",
      "label": "Cupola: Shed Cupola Image"
    },
    {
      "type": "image_picker",
      "id": "cupola_bbwood_image",
      "label": "Cupola: Board & Batten Wood Cupola Image"
    },
    {
      "type": "image_picker",
      "id": "weathervane_black_horse_image",
      "label": "Weathervane: Black Horse Image"
    },
    {
      "type": "image_picker",
      "id": "weathervane_small_black_rooster_image",
      "label": "Weathervane: Small Black Rooster Image"
    },
    {
      "type": "image_picker",
      "id": "weathervane_black_eagle_image",
      "label": "Weathervane: Black Eagle Image"
    },
    {
      "type": "image_picker",
      "id": "weathervane_copper_standing_rooster_image",
      "label": "Weathervane: Copper Standing Rooster Image"
    },
    {
      "type": "image_picker",
      "id": "weathervane_copper_eagle_image",
      "label": "Weathervane: Copper Eagle Image"
    },
    {
      "type": "image_picker",
      "id": "weathervane_copper_horse_image",
      "label": "Weathervane: Copper Horse Image"
    },
    {
      "type": "image_picker",
      "id": "chicken_run_3x4x3_image",
      "label": "Chicken Run Size: 3′×4′×3′ Image"
    },
    {
      "type": "image_picker",
      "id": "chicken_run_4x5x3_image",
      "label": "Chicken Run Size: 4′×5′×3′ Image"
    },
    {
      "type": "image_picker",
      "id": "chicken_run_4x7x3_image",
      "label": "Chicken Run Size: 4′×7′×3′ Image"
    },
    {
      "type": "image_picker",
      "id": "chicken_run_5x5x3_image",
      "label": "Chicken Run Size: 5′×5′×3′ Image"
    },
    {
      "type": "image_picker",
      "id": "chicken_run_5x7x3_image",
      "label": "Chicken Run Size: 5′×7′×3′ Image"
    },
    {
      "type": "image_picker",
      "id": "chicken_run_6x8x6_roof_image",
      "label": "Chicken Run Size: 6′×8′×6′ Run w/ Roof Image"
    },
    {
      "type": "image_picker",
      "id": "chicken_run_6x10x6_roof_image",
      "label": "Chicken Run Size: 6′×10′×6′ Run w/ Roof Image"
    },
    {
      "type": "image_picker",
      "id": "chicken_run_panels_image",
      "label": "Chicken Run: Panels under Coop Image"
    },
    {
      "type": "image_picker",
      "id": "run_extra_wheel_lift_image",
      "label": "Chicken Run Extra: Wheel Lift Lever Kit Image"
    },
    {
      "type": "image_picker",
      "id": "run_extra_wire_mesh_image",
      "label": "Chicken Run Extra: Wire Mesh Bottoms Image"
    },
    {
      "type": "image_picker",
      "id": "drinker_1_gallon_image",
      "label": "Drinker: 1 Gallon Image"
    },
    {
      "type": "image_picker",
      "id": "drinker_3_gallon_image",
      "label": "Drinker: 3 Gallon Image"
    },
    {
      "type": "image_picker",
      "id": "feeder_6lb_image",
      "label": "Feeder: 6 lb. Image"
    },
    {
      "type": "image_picker",
      "id": "feeder_17lb_image",
      "label": "Feeder: 17 lb. Image"
    },
    {
      "type": "image_picker",
      "id": "exterior_feed_bin_image",
      "label": "Exterior Option (2): Feed Bin Image"
    },
    {
      "type": "image_picker",
      "id": "exterior_vinyl_wire_mesh_image",
      "label": "Exterior Option (2): Vinyl-coated Wire Mesh Image"
    },
    {
      "type": "image_picker",
      "id": "exterior_4_wheels_image",
      "label": "Exterior Option (2): 4 Wheels Image"
    },
    {
  "type": "image_picker",
  "id": "auto_door_elec_package_image",
  "label": "Auto Door: Elec. Package Image"
},
{
  "type": "image_picker",
  "id": "auto_door_smartcoop_image",
  "label": "Auto Door: SmartCoop Image"
},
{
  "type": "image_picker",
  "id": "auto_door_solar_package_image",
  "label": "Auto Door: Solar Package Image"
},
{
  "type": "image_picker",
  "id": "auto_door_solar_light_image",
  "label": "Auto Door: Solar Light Image"
},
    {
  "type": "image_picker",
  "id": "interior_clean_out_lid_image",
  "label": "Interior Option: Clean Out Lid Image"
},
{
  "type": "image_picker",
  "id": "interior_epoxy_floor_image",
  "label": "Interior Option: Epoxy Floor Image"
},
{
  "type": "image_picker",
  "id": "interior_heated_roost_image",
  "label": "Interior Option: Heated Roost Image"
},
{
  "type": "image_picker",
  "id": "interior_insulated_ceiling_image",
  "label": "Interior Option: Insulated Ceiling Image"
},
{
  "type": "image_picker",
  "id": "interior_litter_tray_image",
  "label": "Interior Option: Litter Tray Image"
},
{
  "type": "image_picker",
  "id": "q34_image",
  "label": "Q34 Quaker (3' x 4')"
},
{
  "type": "image_picker",
  "id": "q44_image",
  "label": "Q44 Quaker (4' x 4')"
},
{
  "type": "image_picker",
  "id": "q46_image",
  "label": "Q46 Quaker (4' x 6')"
},
{
  "type": "image_picker",
  "id": "q46h_image",
  "label": "Q46H Quaker (4' x 6')"
},
{
  "type": "image_picker",
  "id": "q48_image",
  "label": "Q48 Quaker (4' x 8')"
},
{
  "type": "image_picker",
  "id": "q56_image",
  "label": "Q56 Quaker (5' x 6')"
},
{
  "type": "image_picker",
  "id": "q58_image",
  "label": "Q58 Quaker (5' x 8')"
},
{
  "type": "image_picker",
  "id": "q712_image",
  "label": "Q712 Quaker (7' x 12')"
},
{
  "type": "image_picker",
  "id": "q716_image",
  "label": "Q716 Quaker (7' x 16')"
},
{
  "type": "image_picker",
  "id": "d66_image",
  "label": "D66 Dutch (6' x 6')"
},
{
  "type": "image_picker",
  "id": "d48_image",
  "label": "D48 Dutch (4' x 8')"
},
{
  "type": "image_picker",
  "id": "d46_image",
  "label": "D46 Dutch (4' x 6')"
},
{
  "type": "image_picker",
  "id": "d44_image",
  "label": "D44 Dutch (4' x 4')"
},
{
  "type": "image_picker",
  "id": "l45_image",
  "label": "L45 Lean-To (4' x 5')"
},
{
  "type": "image_picker",
  "id": "l35_image",
  "label": "L35 Lean-To (3' x 5')"
},
{
  "type": "image_picker",
  "id": "q44t_image",
  "label": "Q44T Tractor (4' x 4')"
},
{
  "type": "image_picker",
  "id": "q34t_image",
  "label": "Q34T Tractor (3' x 4')"
},
{
  "type": "image_picker",
  "id": "a46_image",
  "label": "A46 A-Frame (4' x 6')"
},
{
  "type": "image_picker",
  "id": "q712c_image",
  "label": "Q712C Combination (7' x 12')"
},
{
  "type": "image_picker",
  "id": "q716c_image",
  "label": "Q716C Combination (7' x 16')"
},
{
  "type": "image_picker",
  "id": "q720c_image",
  "label": "Q720C Combination (7' x 20')"
},
{
  "type": "image_picker",
  "id": "q724c_image",
  "label": "Q724C Combination (7' x 24')"
},
{
  "type": "image_picker",
  "id": "q728c_image",
  "label": "Q728C Combination (7' x 28')"
},
{
  "type": "image_picker",
  "id": "q732c_image",
  "label": "Q732C Combination (7' x 32')"
},
{
  "type": "image_picker",
  "id": "q612c_image",
  "label": "Q612C Combination (6' x 12')"
},
{
  "type": "image_picker",
  "id": "q610c_image",
  "label": "Q610C Combination (6' x 10')"
},
{
  "type": "image_picker",
  "id": "q68c_image",
  "label": "Q68C Combination (6' x 8')"
},
{
  "type": "image_picker",
  "id": "q48c_image",
  "label": "Q48C Combination (4' x 8')"
},
{
  "type": "image_picker",
  "id": "a57c_image",
  "label": "A57C Combination (5' x 7')"
},
{
  "type": "image_picker",
  "id": "a46c_image",
  "label": "A46C Combination (4' x 6')"
},

  ],
  "presets": [
    {
      "name": "Coop Customizer",
      "category": "Custom"
    }
  ]
}
{% endschema %}

